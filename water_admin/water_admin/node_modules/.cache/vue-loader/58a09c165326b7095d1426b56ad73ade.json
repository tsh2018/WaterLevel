{"remainingRequest":"F:\\waterManager\\water_admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\waterManager\\water_admin\\src\\components\\checkManager.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\waterManager\\water_admin\\src\\components\\checkManager.vue","mtime":1651821976068},{"path":"F:\\waterManager\\water_admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\waterManager\\water_admin\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"F:\\waterManager\\water_admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\waterManager\\water_admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7CiAgICBFdmVudEJ1cwp9IGZyb20gJy4uL3N0b3JlL0J1cy5qcycKaW1wb3J0IHsKICAgIGdldE1hbmFnZXJMaXN0LAogICAgZGVsZXRlTWFuYWdlcgp9IGZyb20gJ0AvYXBpL3VzZXIuanMnCmV4cG9ydCBkZWZhdWx0IHsKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgdGFibGVEYXRhOiBbewogICAgICAgICAgICAgICAgbWFnSWQ6ICIiLAogICAgICAgICAgICAgICAgbWFnTmFtZTogIiIsCiAgICAgICAgICAgICAgICBtYWdQYXNzd2FyZDogIiIsCiAgICAgICAgICAgICAgICBtYWdFbWFpbDogIiIsCiAgICAgICAgICAgICAgICBtYWdOdW06ICIiLAogICAgICAgICAgICAgICAgbWFnSW1nOiAiIiwKICAgICAgICAgICAgICAgIG1hZ1Jvb3Q6ICcnLAogICAgICAgICAgICAgICAgbWFnc0FkcmVzczogIiIsCiAgICAgICAgICAgICAgICBtYWdSZW1hcms6ICIiLAogICAgICAgICAgICB9XSwKICAgICAgICAgICAgY3VycmVudFBhZ2U6IDEsIC8vIOW9k+WJjemhteeggQogICAgICAgICAgICB0b3RhbDogMjAsIC8vIOaAu+adoeaVsAogICAgICAgICAgICBwYWdlU2l6ZTogNSAvLyDmr4/pobXnmoTmlbDmja7mnaHmlbAKICAgICAgICB9CiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIGhhbmRsZUVkaXQoaW5kZXgsIHJvdykgewoKICAgICAgICAgICAgY29uc29sZS5sb2coaW5kZXgsIHJvdyk7CiAgICAgICAgfSwKCiAgICAgICAgLy/liKDpmaTmjIflrprooYwKICAgICAgICBhc3luYyBoYW5kbGVEZWxldGUoaW5kZXgsIHJvdykgewogICAgICAgICAgICAvLyAvL+WIoOmZpOihqOagvOS/oeaBrwogICAgICAgICAgICAvLyBpZiAodGhpcy50YWJsZURhdGEuc3BsaWNlKGluZGV4LCAxKSkgewogICAgICAgICAgICAvLyAgICAKICAgICAgICAgICAgLy8gfSBlbHNlIHsKICAgICAgICAgICAgLy8gICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICAvLyAgICAgICAgIG1lc3NhZ2U6ICfliKDpmaTlpLHotKXvvIEnLAogICAgICAgICAgICAvLyAgICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICAgICAgICAvLyAgICAgfSk7CiAgICAgICAgICAgIC8vIH0KICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGNvbnN0IHJlcyA9IGRlbGV0ZU1hbmFnZXIocm93Lm1hZ0lkKQogICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzKQogICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ+WIoOmZpOaIkOWKn++8gScsCiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHRoaXMuZ2V0TWFuYWdlTGlzdCgpCiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAn5Yig6Zmk5aSx6LSl77yBJywKICAgICAgICAgICAgICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGdldE1hbmFnZXJMaXN0KCkKCgogICAgICAgIH0sCiAgICAgICAgYXN5bmMgZ2V0TWFuYWdlTGlzdCgpIHsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGdldE1hbmFnZXJMaXN0KCkKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcy5vYmplY3QpCiAgICAgICAgICAgICAgICB0aGlzLnRhYmxlRGF0YSA9IHJlcy5vYmplY3QKCiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpCgogICAgICAgICAgICB9CgogICAgICAgIH0sCiAgICAgICAgLy/mr4/pobXmnaHmlbDmlLnlj5jml7bop6blj5Eg6YCJ5oup5LiA6aG15pi+56S65aSa5bCR6KGMCiAgICAgICAgaGFuZGxlU2l6ZUNoYW5nZSh2YWwpIHsKICAgICAgICAgICAgY29uc29sZS5sb2coYOavj+mhtSAke3ZhbH0g5p2hYCk7CiAgICAgICAgICAgIHRoaXMuY3VycmVudFBhZ2UgPSAxOwogICAgICAgICAgICB0aGlzLnBhZ2VTaXplID0gdmFsOwogICAgICAgIH0sCiAgICAgICAgLy/lvZPliY3pobXmlLnlj5jml7bop6blj5Eg6Lez6L2s5YW25LuW6aG1CiAgICAgICAgaGFuZGxlQ3VycmVudENoYW5nZSh2YWwpIHsKICAgICAgICAgICAgY29uc29sZS5sb2coYOW9k+WJjemhtTogJHt2YWx9YCk7CiAgICAgICAgICAgIHRoaXMuY3VycmVudFBhZ2UgPSB2YWw7CiAgICAgICAgfQogICAgfSwKICAgIG1vdW50ZWQoKSB7CiAgICAgICAgLy/lkJHnu4Tku7ZoZWFkLnZ1ZeS8oOmAgemdouWMheWxkeWvvOiIquWGheWuuQogICAgICAgIEV2ZW50QnVzLiRlbWl0KCJwYXRoSW5mbyIsIFt7CiAgICAgICAgICAgICAgICB0aXRsZTogJ+mmlumhtScsCiAgICAgICAgICAgICAgICBpbmRleDogJycKICAgICAgICAgICAgfSwKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdGl0bGU6ICfkuKrkurrnrqHnkIYnLAogICAgICAgICAgICAgICAgaW5kZXg6ICdJbmRpdmlkdWFsTXlJbmZvJwogICAgICAgICAgICB9LAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICB0aXRsZTogJ+afpeeci+euoeeQhuWRmCcsCiAgICAgICAgICAgICAgICBpbmRleDogJ0luZGl2aWR1YWxNeUluZm8nLAogICAgICAgICAgICB9LAogICAgICAgIF0pOwogICAgICAgIHRoaXMuZ2V0TWFuYWdlTGlzdCgpCgogICAgfSwKfQo="},{"version":3,"sources":["checkManager.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"checkManager.vue","sourceRoot":"src/components","sourcesContent":["<!--\r\n * @Author: Tashany\r\n * @Date: 2022-03-08 21:54:39\r\n * @LastEditors: Tashany\r\n * @LastEditTime: 2022-05-06 15:26:16\r\n * @Description: file content\r\n * @FilePath: \\water_admin\\src\\components\\checkManager.vue\r\n-->\r\n<template>\r\n    <div>\r\n        <template>\r\n            <el-table :data=\"tableData.slice((currentPage-1)*pageSize,currentPage*pageSize)\" style=\"width: 100%;margin-top:30px\" stripe>\r\n                <el-table-column label=\"管理员编号\" width=\"180\" align=\"center\">\r\n                    <template slot-scope=\"scope\">\r\n                        <i class=\"el-icon-user\"></i>\r\n                        <span style=\"margin-left: 10px\">{{ scope.row.magId }}</span>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column label=\"姓名\" width=\"150\" align=\"center\">\r\n                    <template slot-scope=\"scope\">\r\n                        <i class=\"el-icon-user\"></i>\r\n                        <span style=\"margin-left: 10px\">{{ scope.row.magName }}</span>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column label=\"手机号码\" width=\"180\" align=\"center\">\r\n                    <template slot-scope=\"scope\">\r\n                        <i class=\"el-icon-mobile-phone\"></i>\r\n                        <span style=\"margin-left: 10px\">{{ scope.row.magNum}}</span>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column label=\"邮箱\" width=\"180\" align=\"center\">\r\n                    <template slot-scope=\"scope\">\r\n                        <i class=\"el-icon-mobile-Emaile\"></i>\r\n                        <span style=\"margin-left: 10px\">{{ scope.row.magEmail}}</span>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column label=\"联系地址\" width=\"300\" align=\"center\">\r\n                    <template slot-scope=\"scope\">\r\n                        <i class=\"el-icon-office-building\"></i>\r\n                        <span style=\"margin-left: 10px\">{{ scope.row.magAddress }}</span>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column label=\"备注\" width=\"180\" align=\"center\">\r\n                    <template slot-scope=\"scope\">\r\n                        <i class=\"el-icon-tickets\"></i>\r\n                        <span style=\"margin-left: 10px\">{{ scope.row.magContent }}</span>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column label=\"操作\" align=\"center\">\r\n                    <template slot-scope=\"scope\">\r\n                        <el-button size=\"mini\" type=\"danger\" @click=\"handleDelete(scope.$index, scope.row)\">删除\r\n                        </el-button>\r\n                    </template>\r\n                </el-table-column>\r\n            </el-table>\r\n        </template>\r\n        <el-pagination @size-change=\"handleSizeChange\" \r\n   @current-change=\"handleCurrentChange\"\r\n   :current-page=\"currentPage\" \r\n   :page-sizes=\"[1,5,10,20]\" \r\n   :page-size=\"pageSize\" \r\n   layout=\"total, sizes, prev, pager, next, jumper\" \r\n   :total=\"tableData.length\">\r\n        </el-pagination>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import {\r\n        EventBus\r\n    } from '../store/Bus.js'\r\n    import {\r\n        getManagerList,\r\n        deleteManager\r\n    } from '@/api/user.js'\r\n    export default {\r\n        data() {\r\n            return {\r\n                tableData: [{\r\n                    magId: \"\",\r\n                    magName: \"\",\r\n                    magPassward: \"\",\r\n                    magEmail: \"\",\r\n                    magNum: \"\",\r\n                    magImg: \"\",\r\n                    magRoot: '',\r\n                    magsAdress: \"\",\r\n                    magRemark: \"\",\r\n                }],\r\n                currentPage: 1, // 当前页码\r\n                total: 20, // 总条数\r\n                pageSize: 5 // 每页的数据条数\r\n            }\r\n        },\r\n        methods: {\r\n            handleEdit(index, row) {\r\n\r\n                console.log(index, row);\r\n            },\r\n\r\n            //删除指定行\r\n            async handleDelete(index, row) {\r\n                // //删除表格信息\r\n                // if (this.tableData.splice(index, 1)) {\r\n                //    \r\n                // } else {\r\n                //     this.$message({\r\n                //         message: '删除失败！',\r\n                //         type: 'warning'\r\n                //     });\r\n                // }\r\n                try {\r\n                    const res = deleteManager(row.magId)\r\n                    console.log(res)\r\n                    this.$message({\r\n                        message: '删除成功！',\r\n                        type: 'success'\r\n                    });\r\n                    this.getManageList()\r\n                } catch (error) {\r\n                    this.$message({\r\n                        message: '删除失败！',\r\n                        type: 'warning'\r\n                    });\r\n                }\r\n                getManagerList()\r\n\r\n\r\n            },\r\n            async getManageList() {\r\n                try {\r\n                    const res = await getManagerList()\r\n                    console.log(res.object)\r\n                    this.tableData = res.object\r\n\r\n                } catch (e) {\r\n                    console.log(e)\r\n\r\n                }\r\n\r\n            },\r\n            //每页条数改变时触发 选择一页显示多少行\r\n            handleSizeChange(val) {\r\n                console.log(`每页 ${val} 条`);\r\n                this.currentPage = 1;\r\n                this.pageSize = val;\r\n            },\r\n            //当前页改变时触发 跳转其他页\r\n            handleCurrentChange(val) {\r\n                console.log(`当前页: ${val}`);\r\n                this.currentPage = val;\r\n            }\r\n        },\r\n        mounted() {\r\n            //向组件head.vue传送面包屑导航内容\r\n            EventBus.$emit(\"pathInfo\", [{\r\n                    title: '首页',\r\n                    index: ''\r\n                },\r\n                {\r\n                    title: '个人管理',\r\n                    index: 'IndividualMyInfo'\r\n                },\r\n                {\r\n                    title: '查看管理员',\r\n                    index: 'IndividualMyInfo',\r\n                },\r\n            ]);\r\n            this.getManageList()\r\n\r\n        },\r\n    }\r\n</script>\r\n\r\n<style>\r\n\r\n</style>"]}]}