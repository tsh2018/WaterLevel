{"remainingRequest":"F:\\waterManager\\water_admin\\node_modules\\babel-loader\\lib\\index.js!F:\\waterManager\\water_admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!F:\\waterManager\\water_admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\waterManager\\water_admin\\src\\components\\checkManager.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\waterManager\\water_admin\\src\\components\\checkManager.vue","mtime":1648822153837},{"path":"F:\\waterManager\\water_admin\\babel.config.js","mtime":1646632679840},{"path":"F:\\waterManager\\water_admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\waterManager\\water_admin\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"F:\\waterManager\\water_admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\waterManager\\water_admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkY6L3dhdGVyTWFuYWdlci93YXRlcl9hZG1pbi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgRXZlbnRCdXMgfSBmcm9tICcuLi9zdG9yZS9CdXMuanMnOwppbXBvcnQgeyBnZXRNYW5hZ2VyTGlzdCwgZGVsZXRlTWFuYWdlciB9IGZyb20gJ0AvYXBpL3VzZXIuanMnOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRhYmxlRGF0YTogW3sKICAgICAgICBtYWdJZDogIiIsCiAgICAgICAgbWFnTmFtZTogIiIsCiAgICAgICAgbWFnUGFzc3dhcmQ6ICIiLAogICAgICAgIG1hZ0VtYWlsOiAiIiwKICAgICAgICBtYWdOdW06ICIiLAogICAgICAgIG1hZ0ltZzogIiIsCiAgICAgICAgbWFnUm9vdDogJycsCiAgICAgICAgbWFnc0FkcmVzczogIiIsCiAgICAgICAgbWFnUmVtYXJrOiAiIgogICAgICB9XSwKICAgICAgY3VycmVudFBhZ2U6IDEsCiAgICAgIC8vIOW9k+WJjemhteeggQogICAgICB0b3RhbDogMjAsCiAgICAgIC8vIOaAu+adoeaVsAogICAgICBwYWdlU2l6ZTogNSAvLyDmr4/pobXnmoTmlbDmja7mnaHmlbAKCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgaGFuZGxlRWRpdDogZnVuY3Rpb24gaGFuZGxlRWRpdChpbmRleCwgcm93KSB7CiAgICAgIGNvbnNvbGUubG9nKGluZGV4LCByb3cpOwogICAgfSwKICAgIC8v5Yig6Zmk5oyH5a6a6KGMCiAgICBoYW5kbGVEZWxldGU6IGZ1bmN0aW9uIGhhbmRsZURlbGV0ZShpbmRleCwgcm93KSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciByZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgLy8gLy/liKDpmaTooajmoLzkv6Hmga8KICAgICAgICAgICAgICAgIC8vIGlmICh0aGlzLnRhYmxlRGF0YS5zcGxpY2UoaW5kZXgsIDEpKSB7CiAgICAgICAgICAgICAgICAvLyAgICAKICAgICAgICAgICAgICAgIC8vIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAvLyAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgICAvLyAgICAgICAgIG1lc3NhZ2U6ICfliKDpmaTlpLHotKXvvIEnLAogICAgICAgICAgICAgICAgLy8gICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgICAgICAgICAgIC8vICAgICB9KTsKICAgICAgICAgICAgICAgIC8vIH0KICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgIHJlcyA9IGRlbGV0ZU1hbmFnZXIocm93Lm1hZ0lkKTsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAn5Yig6Zmk5oiQ5Yqf77yBJywKICAgICAgICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycKICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICBfdGhpcy5nZXRNYW5hZ2VMaXN0KCk7CiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgICAgICAgICBfdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ+WIoOmZpOWksei0pe+8gScsCiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZ2V0TWFuYWdlTGlzdDogZnVuY3Rpb24gZ2V0TWFuYWdlTGlzdCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgcmVzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDA7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0TWFuYWdlckxpc3QoKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMub2JqZWN0KTsKICAgICAgICAgICAgICAgIF90aGlzMi50YWJsZURhdGEgPSByZXMub2JqZWN0OwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDg7CiAgICAgICAgICAgICAgICBfY29udGV4dDIudDAgPSBfY29udGV4dDJbImNhdGNoIl0oMCk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhfY29udGV4dDIudDApOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyLCBudWxsLCBbWzAsIDhdXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8v5q+P6aG15p2h5pWw5pS55Y+Y5pe26Kem5Y+RIOmAieaLqeS4gOmhteaYvuekuuWkmuWwkeihjAogICAgaGFuZGxlU2l6ZUNoYW5nZTogZnVuY3Rpb24gaGFuZGxlU2l6ZUNoYW5nZSh2YWwpIHsKICAgICAgY29uc29sZS5sb2coIlx1NkJDRlx1OTg3NSAiLmNvbmNhdCh2YWwsICIgXHU2NzYxIikpOwogICAgICB0aGlzLmN1cnJlbnRQYWdlID0gMTsKICAgICAgdGhpcy5wYWdlU2l6ZSA9IHZhbDsKICAgIH0sCiAgICAvL+W9k+WJjemhteaUueWPmOaXtuinpuWPkSDot7Povazlhbbku5bpobUKICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZUN1cnJlbnRDaGFuZ2UodmFsKSB7CiAgICAgIGNvbnNvbGUubG9nKCJcdTVGNTNcdTUyNERcdTk4NzU6ICIuY29uY2F0KHZhbCkpOwogICAgICB0aGlzLmN1cnJlbnRQYWdlID0gdmFsOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIC8v5ZCR57uE5Lu2aGVhZC52dWXkvKDpgIHpnaLljIXlsZHlr7zoiKrlhoXlrrkKICAgIEV2ZW50QnVzLiRlbWl0KCJwYXRoSW5mbyIsIFt7CiAgICAgIHRpdGxlOiAn6aaW6aG1JywKICAgICAgaW5kZXg6ICcnCiAgICB9LCB7CiAgICAgIHRpdGxlOiAn5Liq5Lq6566h55CGJywKICAgICAgaW5kZXg6ICdJbmRpdmlkdWFsTXlJbmZvJwogICAgfSwgewogICAgICB0aXRsZTogJ+afpeeci+euoeeQhuWRmCcsCiAgICAgIGluZGV4OiAnSW5kaXZpZHVhbE15SW5mbycKICAgIH1dKTsKICAgIHRoaXMuZ2V0TWFuYWdlTGlzdCgpOwogIH0KfTs="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoEA,SACAA,QADA,QAEA,iBAFA;AAGA,SACAC,cADA,EAEAC,aAFA,QAGA,eAHA;AAIA;AACAC,MADA,kBACA;AACA;AACAC;AACAC,iBADA;AAEAC,mBAFA;AAGAC,uBAHA;AAIAC,oBAJA;AAKAC,kBALA;AAMAC,kBANA;AAOAC,mBAPA;AAQAC,sBARA;AASAC;AATA,QADA;AAYAC,oBAZA;AAYA;AACAC,eAbA;AAaA;AACAC,iBAdA,CAcA;;AAdA;AAgBA,GAlBA;AAmBAC;AACAC,cADA,sBACAC,KADA,EACAC,GADA,EACA;AAEAC;AACA,KAJA;AAMA;AACAC,gBAPA,wBAOAH,KAPA,EAOAC,GAPA,EAOA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAG,qBADA,GACArB,wBADA;AAEAmB;;AACA;AACAG,oCADA;AAEAC;AAFA;;AAIA;AACA,iBARA,CAQA;AACA;AACAD,oCADA;AAEAC;AAFA;AAIA;;AAvBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA2BA,KAlCA;AAmCAC,iBAnCA,2BAmCA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAEAzB,gBAFA;;AAAA;AAEAsB,mBAFA;AAGAF;AACA;AAJA;AAAA;;AAAA;AAAA;AAAA;AAOAA;;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWA,KA9CA;AA+CA;AACAM,oBAhDA,4BAgDAC,GAhDA,EAgDA;AACAP;AACA;AACA;AACA,KApDA;AAqDA;AACAQ,uBAtDA,+BAsDAD,GAtDA,EAsDA;AACAP;AACA;AACA;AAzDA,GAnBA;AA8EAS,SA9EA,qBA8EA;AACA;AACA9B;AACA+B,iBADA;AAEAZ;AAFA,OAIA;AACAY,mBADA;AAEAZ;AAFA,KAJA,EAQA;AACAY,oBADA;AAEAZ;AAFA,KARA;AAaA;AAEA;AA/FA","names":["EventBus","getManagerList","deleteManager","data","tableData","magId","magName","magPassward","magEmail","magNum","magImg","magRoot","magsAdress","magRemark","currentPage","total","pageSize","methods","handleEdit","index","row","console","handleDelete","res","message","type","getManageList","handleSizeChange","val","handleCurrentChange","mounted","title"],"sourceRoot":"src/components","sources":["checkManager.vue"],"sourcesContent":["<!--\r\n * @Author: Tashany\r\n * @Date: 2022-03-08 21:54:39\r\n * @LastEditors: Tashany\r\n * @LastEditTime: 2022-04-01 22:09:13\r\n * @Description: file content\r\n * @FilePath: \\water_admin\\src\\components\\checkManager.vue\r\n-->\r\n<template>\r\n    <div>\r\n        <template>\r\n            <el-table :data=\"tableData.slice((currentPage-1)*pageSize,currentPage*pageSize)\" style=\"width: 100%;margin-top:30px\" stripe>\r\n                <el-table-column label=\"管理员编号\" width=\"180\" align=\"center\">\r\n                    <template slot-scope=\"scope\">\r\n                        <i class=\"el-icon-user\"></i>\r\n                        <span style=\"margin-left: 10px\">{{ scope.row.magId }}</span>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column label=\"姓名\" width=\"150\" align=\"center\">\r\n                    <template slot-scope=\"scope\">\r\n                        <i class=\"el-icon-user\"></i>\r\n                        <span style=\"margin-left: 10px\">{{ scope.row.magName }}</span>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column label=\"手机号码\" width=\"180\" align=\"center\">\r\n                    <template slot-scope=\"scope\">\r\n                        <i class=\"el-icon-mobile-phone\"></i>\r\n                        <span style=\"margin-left: 10px\">{{ scope.row.magNum}}</span>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column label=\"邮箱\" width=\"180\" align=\"center\">\r\n                    <template slot-scope=\"scope\">\r\n                        <i class=\"el-icon-mobile-Emaile\"></i>\r\n                        <span style=\"margin-left: 10px\">{{ scope.row.magEmail}}</span>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column label=\"联系地址\" width=\"300\" align=\"center\">\r\n                    <template slot-scope=\"scope\">\r\n                        <i class=\"el-icon-office-building\"></i>\r\n                        <span style=\"margin-left: 10px\">{{ scope.row.magAddress }}</span>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column label=\"备注\" width=\"180\" align=\"center\">\r\n                    <template slot-scope=\"scope\">\r\n                        <i class=\"el-icon-tickets\"></i>\r\n                        <span style=\"margin-left: 10px\">{{ scope.row.magContent }}</span>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column label=\"操作\" align=\"center\">\r\n                    <template slot-scope=\"scope\">\r\n                        <el-button size=\"mini\" type=\"danger\" @click=\"handleDelete(scope.$index, scope.row)\">删除\r\n                        </el-button>\r\n                    </template>\r\n                </el-table-column>\r\n            </el-table>\r\n        </template>\r\n        <el-pagination @size-change=\"handleSizeChange\" \r\n   @current-change=\"handleCurrentChange\"\r\n   :current-page=\"currentPage\" \r\n   :page-sizes=\"[1,5,10,20]\" \r\n   :page-size=\"pageSize\" \r\n   layout=\"total, sizes, prev, pager, next, jumper\" \r\n   :total=\"tableData.length\">\r\n        </el-pagination>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import {\r\n        EventBus\r\n    } from '../store/Bus.js'\r\n    import {\r\n        getManagerList,\r\n        deleteManager\r\n    } from '@/api/user.js'\r\n    export default {\r\n        data() {\r\n            return {\r\n                tableData: [{\r\n                    magId: \"\",\r\n                    magName: \"\",\r\n                    magPassward: \"\",\r\n                    magEmail: \"\",\r\n                    magNum: \"\",\r\n                    magImg: \"\",\r\n                    magRoot: '',\r\n                    magsAdress: \"\",\r\n                    magRemark: \"\",\r\n                }],\r\n                currentPage: 1, // 当前页码\r\n                total: 20, // 总条数\r\n                pageSize: 5 // 每页的数据条数\r\n            }\r\n        },\r\n        methods: {\r\n            handleEdit(index, row) {\r\n\r\n                console.log(index, row);\r\n            },\r\n\r\n            //删除指定行\r\n            async handleDelete(index, row) {\r\n                // //删除表格信息\r\n                // if (this.tableData.splice(index, 1)) {\r\n                //    \r\n                // } else {\r\n                //     this.$message({\r\n                //         message: '删除失败！',\r\n                //         type: 'warning'\r\n                //     });\r\n                // }\r\n                try {\r\n                    const res = deleteManager(row.magId)\r\n                    console.log(res)\r\n                    this.$message({\r\n                        message: '删除成功！',\r\n                        type: 'success'\r\n                    });\r\n                    this.getManageList()\r\n                } catch (error) {\r\n                    this.$message({\r\n                        message: '删除失败！',\r\n                        type: 'warning'\r\n                    });\r\n                }\r\n\r\n\r\n\r\n            },\r\n            async getManageList() {\r\n                try {\r\n                    const res = await getManagerList()\r\n                    console.log(res.object)\r\n                    this.tableData = res.object\r\n\r\n                } catch (e) {\r\n                    console.log(e)\r\n\r\n                }\r\n\r\n            },\r\n            //每页条数改变时触发 选择一页显示多少行\r\n            handleSizeChange(val) {\r\n                console.log(`每页 ${val} 条`);\r\n                this.currentPage = 1;\r\n                this.pageSize = val;\r\n            },\r\n            //当前页改变时触发 跳转其他页\r\n            handleCurrentChange(val) {\r\n                console.log(`当前页: ${val}`);\r\n                this.currentPage = val;\r\n            }\r\n        },\r\n        mounted() {\r\n            //向组件head.vue传送面包屑导航内容\r\n            EventBus.$emit(\"pathInfo\", [{\r\n                    title: '首页',\r\n                    index: ''\r\n                },\r\n                {\r\n                    title: '个人管理',\r\n                    index: 'IndividualMyInfo'\r\n                },\r\n                {\r\n                    title: '查看管理员',\r\n                    index: 'IndividualMyInfo',\r\n                },\r\n            ]);\r\n            this.getManageList()\r\n\r\n        },\r\n    }\r\n</script>\r\n\r\n<style>\r\n\r\n</style>"]}]}