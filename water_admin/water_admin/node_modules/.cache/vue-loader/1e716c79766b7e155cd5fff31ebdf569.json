{"remainingRequest":"F:\\waterManager\\water_admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\waterManager\\water_admin\\src\\components\\login.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\waterManager\\water_admin\\src\\components\\login.vue","mtime":1648819323658},{"path":"F:\\waterManager\\water_admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\waterManager\\water_admin\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"F:\\waterManager\\water_admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\waterManager\\water_admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7CglyZXFnZXRMb2dpbiwKCXJlcWdldFJlZ2lzdGVyCn0gZnJvbSAnQC9hcGkvbG9naW4uanMnCmltcG9ydCB7CglzZXRDb29raWUsCglnZXRDb29raWUsCglkZWxDb29raWUKfSBmcm9tICdAL3Rvb2xzL2Nvb2tpZS5qcyc7CmltcG9ydCByb3V0ZXIgZnJvbSAnLi4vcm91dGVyJzsKZXhwb3J0IGRlZmF1bHQgewoJZGF0YSgpIHsKCQkvLyDpqozor4HmiYvmnLrlj7cKCQl2YXIgY2hlY2tOdW0gPSAocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSA9PiB7CgkJCXZhciByZWcgPSAvXlsxXShbMy05XSlbMC05XXs5fSQvCgkJCWlmICghcmVnLnRlc3QodmFsdWUpKSB7CgkJCQlyZXR1cm4gY2FsbGJhY2sobmV3IEVycm9yKCfor7fovpPlhaXmraPnoa7miYvmnLrlj7cnKSk7CgkJCX0gZWxzZSB7CgkJCQljYWxsYmFjaygpOwoJCQl9CgkJfQoJCS8vIOmqjOivgeeUqOaIt+WQjQoJCXZhciBjaGVja05hbWUgPSAocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSA9PiB7CgkJCXZhciByZWcgPSAgL14oW1x1NGUwMC1cdTlmYTVdezIsNH0pfChbQS1aYS16MC05X117NCwxNn0pfChbYS16QS1aMC05X1x1NGUwMC1cdTlmYTVdezMsMTZ9KSQvOwoJCQljb25zb2xlLmxvZyhyZWcudGVzdCh2YWx1ZSkpCgkJCWlmICghcmVnLnRlc3QodmFsdWUpKSB7CgkJCQlyZXR1cm4gY2FsbGJhY2sobmV3IEVycm9yKCfnrqHnkIblkZjlkI3opoHmsYI0LTE25L2N5a2X5q+NLOaVsOWtlyzmsYnlrZcs5LiL5YiS57q/JykpOwoJCQl9IGVsc2UgewoJCQkJY2FsbGJhY2soKTsKCQkJfQoJCX07CgkJLy8g6aqM6K+B5a+G56CBCgkJdmFyIHZhbGlkYXRlUGFzcyA9IChydWxlLCB2YWx1ZSwgY2FsbGJhY2spID0+IHsKCQkJdmFyIHJlZyA9IC9eXHd7NiwxNn0kLwoJCQlpZiAoIXJlZy50ZXN0KHZhbHVlKSkgewoJCQkJY2FsbGJhY2sobmV3IEVycm9yKCfor7fovpPlhaU2LTE25L2N5a+G56CBJykpOwoJCQl9IGVsc2UgewoJCQkJaWYgKHRoaXMucnVsZUZvcm0uY2hlY2tQYXNzICE9PSAnJykgewoJCQkJCXRoaXMuJHJlZnMucnVsZUZvcm0udmFsaWRhdGVGaWVsZCgnY2hlY2tQYXNzJyk7CgkJCQl9CgkJCQljYWxsYmFjaygpOwoJCQl9CgkJfTsKCQkvLyDlho3mrKHovpPlhaXlr4bnoIEKCQl2YXIgdmFsaWRhdGVQYXNzMiA9IChydWxlLCB2YWx1ZSwgY2FsbGJhY2spID0+IHsKCQkJaWYgKHZhbHVlID09PSAnJykgewoJCQkJY2FsbGJhY2sobmV3IEVycm9yKCfor7flho3mrKHovpPlhaXlr4bnoIEnKSk7CgkJCX0gZWxzZSBpZiAodmFsdWUgIT09IHRoaXMucnVsZUZvcm0ubWFnUGFzc3dhcmQpIHsKCQkJCWNhbGxiYWNrKG5ldyBFcnJvcign5Lik5qyh6L6T5YWl5a+G56CB5LiN5LiA6Ie0IScpKTsKCQkJfSBlbHNlIHsKCQkJCWNhbGxiYWNrKCk7CgkJCX0KCQl9OwoJCXJldHVybiB7CgkJCW1hZ05hbWU6ICcnLAoJCQltYWdQYXNzd2FyZDogJycsCgkJCS8vIOWNlemAiem7mOiupAoJCQlyYWRpbzogMSwKCQkJLy8g5a+56K+d5qGGCgkJCWRpYWxvZ0Zvcm1WaXNpYmxlOiBmYWxzZSwKCQkJLy/ooajljZXlhoXlrrkKCQkJcnVsZUZvcm06IHsKCQkJCW1hZ1Bhc3N3YXJkOiAnJywKCQkJCWNoZWNrUGFzczogJycsCgkJCQltYWdOYW1lOiAnJywKCQkJCW1hZ0VtYWlsOiAnJywKCQkJCW1hZ051bTogJycsCgkJCQltYWdSb290OiAnJwoJCQl9LAoJCQkvLyDmoKHpqozop4TliJkKCQkJcnVsZXM6IHsKCQkJCW1hZ1Bhc3N3YXJkOiBbewoJCQkJCXZhbGlkYXRvcjogdmFsaWRhdGVQYXNzLAoJCQkJCXRyaWdnZXI6IFsnYmx1ciddCgkJCQl9XSwKCQkJCWNoZWNrUGFzczogW3sKCQkJCQl2YWxpZGF0b3I6IHZhbGlkYXRlUGFzczIsCgkJCQkJdHJpZ2dlcjogJ2JsdXInCgkJCQl9XSwKCQkJCW1hZ05hbWU6IFt7CgkJCQkJdmFsaWRhdG9yOiBjaGVja05hbWUsCgkJCQkJdHJpZ2dlcjogJ2JsdXInCgkJCQl9XSwKCQkJCW1hZ0VtYWlsOiBbewoJCQkJCQlyZXF1aXJlZDogdHJ1ZSwKCQkJCQkJbWVzc2FnZTogJ+ivt+i+k+WFpemCrueuseWcsOWdgCcsCgkJCQkJCXRyaWdnZXI6ICdibHVyJwoJCQkJCX0sCgkJCQkJewoJCQkJCQl0eXBlOiAnZW1haWwnLAoJCQkJCQltZXNzYWdlOiAn6K+36L6T5YWl5q2j56Gu55qE6YKu566x5Zyw5Z2AJywKCQkJCQkJdHJpZ2dlcjogWydibHVyJywgJ2NoYW5nZSddCgkJCQkJfQoJCQkJXSwKCQkJCW1hZ051bTogW3sKCQkJCQl2YWxpZGF0b3I6IGNoZWNrTnVtLAoJCQkJCXRyaWdnZXI6ICdibHVyJwoJCQkJfV0sCgkJCQltYWdSb290OiBbewoJCQkJCXJlcXVpcmVkOiB0cnVlLAoJCQkJCW1lc3NhZ2U6ICfor7fpgInmi6nmnYPpmZDnrYnnuqcnLAoJCQkJCXRyaWdnZXI6ICdjaGFuZ2UnCgkJCQl9XQoJCQl9CgkJfTsKCX0sCgltZXRob2RzOiB7CgkJdGVzdCgpIHsKCQkJY29uc29sZS5sb2codGhpcy5ydWxlRm9ybS5yb290KQoJCX0sCgkJLy/nmbvlvZUKCQlhc3luYyBnZXRMb2dpbigpIHsKCQkJdHJ5IHsKCQkJCWNvbnN0IHJlcyA9IGF3YWl0IHJlcWdldExvZ2luKHRoaXMubWFnTmFtZSwgdGhpcy5tYWdQYXNzd2FyZCkKCQkJCWNvbnNvbGUubG9nKHJlcykKCQkJCS8vIOWwhuWktOWDj+WSjOWQjeWtl+S8oOWIsGNvb2tpZQoJCQkJc2V0Q29va2llKCdtYWdJbWcnLCByZXMuZGF0YS5tYWdJbWcpCgkJCQlzZXRDb29raWUoJ21hZ05hbWUnLCByZXMuZGF0YS5tYWdOYW1lKQoJCQkJbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ21hZ0ltZycsIHJlcy5kYXRhLm1hZ0ltZyk7CgkJCQlsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnbWFnTmFtZScsIHJlcy5kYXRhLm1hZ05hbWUpOwoJCQkJbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Rva2VuJywgcmVzLmRhdGEudG9rZW4pOwoJCQkJY29uc29sZS5sb2cocmVzKQoJCQkJdGhpcy4kcm91dGVyLnB1c2goIi9ob21lIikKCQkJfSBjYXRjaCAoZSkge30KCQl9LAoJCS8v5rOo5YaMCgkJYXN5bmMgUmVnaXN0ZXIoKSB7CgkJCXRyeSB7CgkJCQljb25zdCByZXMgPSBhd2FpdCByZXFnZXRSZWdpc3Rlcih0aGlzLnJ1bGVGb3JtKQoJCQkJcmV0dXJuIHJlczsKCQkJfSBjYXRjaCAoZSkge30KCQkJYQoJCX0sCgkJLy8g6KGo5Y2V5o+Q5Lqk5rOo5YaMCgkJc3VibWl0Rm9ybShmb3JtTmFtZSkgewoJCQl0aGlzLiRyZWZzW2Zvcm1OYW1lXS52YWxpZGF0ZSgodmFsaWQpID0+IHsKCQkJCWNvbnNvbGUubG9nKGZvcm1OYW1lKQoJCQkJaWYgKHZhbGlkKSB7CgkJCQkJdmFyIHJlcyA9IHRoaXMuUmVnaXN0ZXIoKS50aGVuKChyZXMpID0+IHsKCQkJCQkJY29uc29sZS5sb2cocmVzKQoJCQkJCQlpZiAocmVzLmNvZGUgPT09ICcyMDAnKSB7CgkJCQkJCQl0aGlzLiRtZXNzYWdlKHsKCQkJCQkJCQltZXNzYWdlOiByZXMubXNnLAoJCQkJCQkJCXR5cGU6ICdzdWNjZXNzJwoJCQkJCQkJfSk7CgkJCQkJCQl0aGlzLiRyb3V0ZXIucHVzaCgiLyIpCgkJCQkJCX0gZWxzZSBpZiAocmVzLmNvZGUgPT09ICc1MDEnKSB7CgkJCQkJCQl0aGlzLiRtZXNzYWdlKHsKCQkJCQkJCQltZXNzYWdlOiByZXMubXNnLAoJCQkJCQkJCXR5cGU6ICdlcnJvcicKCQkJCQkJCX0pOwoJCQkJCQl9IGVsc2UgewoJCQkJCQkJdGhpcy4kbWVzc2FnZSh7CgkJCQkJCQkJbWVzc2FnZTogcmVzLm1zZywKCQkJCQkJCQl0eXBlOiAnd2FybmluZycKCQkJCQkJCX0pOwoJCQkJCQl9CgkJCQkJfSk7CgoJCQkJfSBlbHNlIHsKCQkJCQljb25zb2xlLmxvZygnZXJyb3Igc3VibWl0ISEnKTsKCQkJCQlyZXR1cm4gZmFsc2U7CgkJCQl9CgkJCX0pOwoJCQl0aGlzLmRpYWxvZ0Zvcm1WaXNpYmxlID0gZmFsc2U7CgkJfSwKCQkvLyDph43nva7ooajljZUKCQlyZXNldEZvcm0oZm9ybU5hbWUpIHsKCQkJdGhpcy4kcmVmc1tmb3JtTmFtZV0ucmVzZXRGaWVsZHMoKTsKCQl9LAoJCWdldFJlZ2lzdGVyKCkgewoJCQl0aGlzLmRpYWxvZ0Zvcm1WaXNpYmxlID0gdHJ1ZQoJCX0KCX0KfQo="},{"version":3,"sources":["login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"login.vue","sourceRoot":"src/components","sourcesContent":["<!--\r\n * @Author: Tashany\r\n * @Date: 2022-03-16 15:17:38\r\n * @LastEditors: Tashany\r\n * @LastEditTime: 2022-04-01 21:22:03\r\n * @Description: file content\r\n * @FilePath: \\water_admin\\src\\components\\login.vue\r\n-->\r\n<template>\r\n\t<div>\r\n\t\t<!-- 登录 -->\r\n\t\t<section class=\"w3l-forms-23\">\r\n\t\t\t<div class=\"forms23-block-hny\">\r\n\t\t\t\t<div class=\"wrapper\">\r\n\t\t\t\t\t<h1> Login Form</h1>\r\n\t\t\t\t\t<div class=\"d-grid forms23-grids\">\r\n\t\t\t\t\t\t<div class=\"form23\">\r\n\t\t\t\t\t\t\t<div class=\"main-bg\">\r\n\t\t\t\t\t\t\t\t<h6 class=\"sec-one\">John Doe</h6>\r\n\t\t\t\t\t\t\t\t<div class=\"speci-login first-look\">\r\n\t\t\t\t\t\t\t\t\t<img src=\"../assets/user.png\" alt=\"\" class=\"img-responsive\">\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"bottom-content\">\r\n\t\t\t\t\t\t\t\t<form name=\"login\">\r\n\t\t\t\t\t\t\t\t\t<input type=\"text\" v-model=\"magName\" id=\"magName\" class=\"input-form\"\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Your UserName\" required=\"required\" />\r\n\t\t\t\t\t\t\t\t\t<input type=\"password\" id=\"magPassword\" class=\"input-form\" v-model=\"magPassward\"\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Your Password\" required=\"required\" />\r\n\t\t\t\t\t\t\t\t</form>\r\n\t\t\t\t\t\t\t\t<button type=\"submit\" class=\"loginhny-btn btn\" @click=\"getLogin()\">Login</button>\r\n\t\t\t\t\t\t\t\t<p>Not a member yet? <a href=\"#\" @click=\"getRegister\">Register</a></p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"w3l-copy-right text-center\">\r\n\t\t\t\t\t\t<p>© 20202 Tashany Login Form. All rights CUIT | TASHANY Design by</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</section>\r\n\t\t<!-- 注册对话框 -->\r\n\t\t<el-dialog title=\"注册\" :visible.sync=\"dialogFormVisible\" width=\"30%\">\r\n\t\t\t<el-form :model=\"ruleForm\" status-icon :rules=\"rules\" ref=\"ruleForm\" label-width=\"100px\"\r\n\t\t\t\tclass=\"demo-ruleForm\">\r\n\t\t\t\t<el-form-item label=\"用户名\" prop=\"magName\">\r\n\t\t\t\t\t<el-input type=\"text\" v-model=\"ruleForm.magName\" autocomplete=\"off\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"密码\" prop=\"magPassward\">\r\n\t\t\t\t\t<el-input type=\"password\" v-model=\"ruleForm.magPassward\" autocomplete=\"off\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"确认密码\" prop=\"checkPass\">\r\n\t\t\t\t\t<el-input type=\"password\" v-model=\"ruleForm.checkPass\" autocomplete=\"off\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"邮箱\" prop=\"magEmail\">\r\n\t\t\t\t\t<el-input type=\"email\" v-model=\"ruleForm.magEmail\" autocomplete=\"off\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"电话号码\" prop=\"magNum\">\r\n\t\t\t\t\t<el-input type=\"text\" v-model.number=\"ruleForm.magNum\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"权限等级\">\r\n\t\t\t\t\t<el-radio-group v-model=\"ruleForm.magRoot\" @change=\"test\">\r\n\t\t\t\t\t\t<el-radio v-model=\"radio\" label=\"1\">一级</el-radio>\r\n\t\t\t\t\t\t<el-radio v-model=\"radio\" label=\"2\">二级</el-radio>\r\n\t\t\t\t\t</el-radio-group>\r\n\t\t\t\t</el-form-item>\r\n\r\n\t\t\t\t<!-- <div slot=\"footer\" class=\"dialog-footer\"> -->\r\n\t\t\t\t<el-button @click=\"resetForm('ruleForm')\">重 置</el-button>\r\n\t\t\t\t<el-button type=\"primary\" @click=\"submitForm('ruleForm')\">提 交</el-button>\r\n\t\t\t\t<!-- </div> -->\r\n\t\t\t</el-form>\r\n\t\t</el-dialog>\r\n\t</div>\r\n</template>\r\n<script>\r\n\timport {\r\n\t\treqgetLogin,\r\n\t\treqgetRegister\r\n\t} from '@/api/login.js'\r\n\timport {\r\n\t\tsetCookie,\r\n\t\tgetCookie,\r\n\t\tdelCookie\r\n\t} from '@/tools/cookie.js';\r\n\timport router from '../router';\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\t// 验证手机号\r\n\t\t\tvar checkNum = (rule, value, callback) => {\r\n\t\t\t\tvar reg = /^[1]([3-9])[0-9]{9}$/\r\n\t\t\t\tif (!reg.test(value)) {\r\n\t\t\t\t\treturn callback(new Error('请输入正确手机号'));\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcallback();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// 验证用户名\r\n\t\t\tvar checkName = (rule, value, callback) => {\r\n\t\t\t\tvar reg =  /^([\\u4e00-\\u9fa5]{2,4})|([A-Za-z0-9_]{4,16})|([a-zA-Z0-9_\\u4e00-\\u9fa5]{3,16})$/;\r\n\t\t\t\tconsole.log(reg.test(value))\r\n\t\t\t\tif (!reg.test(value)) {\r\n\t\t\t\t\treturn callback(new Error('管理员名要求4-16位字母,数字,汉字,下划线'));\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcallback();\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\t// 验证密码\r\n\t\t\tvar validatePass = (rule, value, callback) => {\r\n\t\t\t\tvar reg = /^\\w{6,16}$/\r\n\t\t\t\tif (!reg.test(value)) {\r\n\t\t\t\t\tcallback(new Error('请输入6-16位密码'));\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (this.ruleForm.checkPass !== '') {\r\n\t\t\t\t\t\tthis.$refs.ruleForm.validateField('checkPass');\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcallback();\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\t// 再次输入密码\r\n\t\t\tvar validatePass2 = (rule, value, callback) => {\r\n\t\t\t\tif (value === '') {\r\n\t\t\t\t\tcallback(new Error('请再次输入密码'));\r\n\t\t\t\t} else if (value !== this.ruleForm.magPassward) {\r\n\t\t\t\t\tcallback(new Error('两次输入密码不一致!'));\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcallback();\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\treturn {\r\n\t\t\t\tmagName: '',\r\n\t\t\t\tmagPassward: '',\r\n\t\t\t\t// 单选默认\r\n\t\t\t\tradio: 1,\r\n\t\t\t\t// 对话框\r\n\t\t\t\tdialogFormVisible: false,\r\n\t\t\t\t//表单内容\r\n\t\t\t\truleForm: {\r\n\t\t\t\t\tmagPassward: '',\r\n\t\t\t\t\tcheckPass: '',\r\n\t\t\t\t\tmagName: '',\r\n\t\t\t\t\tmagEmail: '',\r\n\t\t\t\t\tmagNum: '',\r\n\t\t\t\t\tmagRoot: ''\r\n\t\t\t\t},\r\n\t\t\t\t// 校验规则\r\n\t\t\t\trules: {\r\n\t\t\t\t\tmagPassward: [{\r\n\t\t\t\t\t\tvalidator: validatePass,\r\n\t\t\t\t\t\ttrigger: ['blur']\r\n\t\t\t\t\t}],\r\n\t\t\t\t\tcheckPass: [{\r\n\t\t\t\t\t\tvalidator: validatePass2,\r\n\t\t\t\t\t\ttrigger: 'blur'\r\n\t\t\t\t\t}],\r\n\t\t\t\t\tmagName: [{\r\n\t\t\t\t\t\tvalidator: checkName,\r\n\t\t\t\t\t\ttrigger: 'blur'\r\n\t\t\t\t\t}],\r\n\t\t\t\t\tmagEmail: [{\r\n\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\tmessage: '请输入邮箱地址',\r\n\t\t\t\t\t\t\ttrigger: 'blur'\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ttype: 'email',\r\n\t\t\t\t\t\t\tmessage: '请输入正确的邮箱地址',\r\n\t\t\t\t\t\t\ttrigger: ['blur', 'change']\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t],\r\n\t\t\t\t\tmagNum: [{\r\n\t\t\t\t\t\tvalidator: checkNum,\r\n\t\t\t\t\t\ttrigger: 'blur'\r\n\t\t\t\t\t}],\r\n\t\t\t\t\tmagRoot: [{\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: '请选择权限等级',\r\n\t\t\t\t\t\ttrigger: 'change'\r\n\t\t\t\t\t}]\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\ttest() {\r\n\t\t\t\tconsole.log(this.ruleForm.root)\r\n\t\t\t},\r\n\t\t\t//登录\r\n\t\t\tasync getLogin() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst res = await reqgetLogin(this.magName, this.magPassward)\r\n\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t// 将头像和名字传到cookie\r\n\t\t\t\t\tsetCookie('magImg', res.data.magImg)\r\n\t\t\t\t\tsetCookie('magName', res.data.magName)\r\n\t\t\t\t\tlocalStorage.setItem('magImg', res.data.magImg);\r\n\t\t\t\t\tlocalStorage.setItem('magName', res.data.magName);\r\n\t\t\t\t\tlocalStorage.setItem('token', res.data.token);\r\n\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\tthis.$router.push(\"/home\")\r\n\t\t\t\t} catch (e) {}\r\n\t\t\t},\r\n\t\t\t//注册\r\n\t\t\tasync Register() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst res = await reqgetRegister(this.ruleForm)\r\n\t\t\t\t\treturn res;\r\n\t\t\t\t} catch (e) {}\r\n\t\t\t\ta\r\n\t\t\t},\r\n\t\t\t// 表单提交注册\r\n\t\t\tsubmitForm(formName) {\r\n\t\t\t\tthis.$refs[formName].validate((valid) => {\r\n\t\t\t\t\tconsole.log(formName)\r\n\t\t\t\t\tif (valid) {\r\n\t\t\t\t\t\tvar res = this.Register().then((res) => {\r\n\t\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\t\tif (res.code === '200') {\r\n\t\t\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\t\t\tmessage: res.msg,\r\n\t\t\t\t\t\t\t\t\ttype: 'success'\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\tthis.$router.push(\"/\")\r\n\t\t\t\t\t\t\t} else if (res.code === '501') {\r\n\t\t\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\t\t\tmessage: res.msg,\r\n\t\t\t\t\t\t\t\t\ttype: 'error'\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\t\t\tmessage: res.msg,\r\n\t\t\t\t\t\t\t\t\ttype: 'warning'\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconsole.log('error submit!!');\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tthis.dialogFormVisible = false;\r\n\t\t\t},\r\n\t\t\t// 重置表单\r\n\t\t\tresetForm(formName) {\r\n\t\t\t\tthis.$refs[formName].resetFields();\r\n\t\t\t},\r\n\t\t\tgetRegister() {\r\n\t\t\t\tthis.dialogFormVisible = true\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n<style scoped>\r\n\t@import url(\"../CSS/style.css\");\r\n</style>"]}]}