{"remainingRequest":"F:\\waterManager\\water_admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\waterManager\\water_admin\\src\\components\\page\\alarmTime.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\waterManager\\water_admin\\src\\components\\page\\alarmTime.vue","mtime":1652097743083},{"path":"F:\\waterManager\\water_admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\waterManager\\water_admin\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"F:\\waterManager\\water_admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\waterManager\\water_admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgY29uZmlnOiB7CiAgICAgICAgICAgICAgICBkYXRhOiBbewogICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAn5ZGo5Y+jJywKICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IDU1CiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICfljZfpmLMnLAogICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogMTIwCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICfopb/ls6EnLAogICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogNzgKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ+mpu+mprOW6lycsCiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiA2NgogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0sCiAgICBjcmVhdGVkKCkgewogICAgICAgIC8vIOWGjee7hOS7tuWIm+W7uuWujOaIkOaXtuWIm+W7uuWbnuiwg+WHveaVsAogICAgICAgIHRoaXMuJHNvY2tldC5yZWdpc3RlckNhbGxCYWNrKCJhbGFybVRpbWUiLCB0aGlzLmdldERhdGEpCiAgICB9LAogICAgZGVzdHJveWVkKCkgewogICAgICAgIC8vIOmUgOavgeaXtuWPlua2iOWbnuiwg+WHveaVsAogICAgICAgIHRoaXMuJHNvY2tldC51blJlZ2lzdGVyQ2FsbEJhY2sodGhpcy5nZXREYXRhKQogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgICBnZXREYXRhKHJldCkgewogICAgICAgICAgICB0aGlzLmFsbERhdGEgPSBKU09OLnBhcnNlKHJldCkKICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5hbGxEYXRhKQogICAgICAgICAgICBsZXQgYXJyID0gW107CiAgICAgICAgICAgIGxldCBsZW5ndGggPSB0aGlzLmFsbERhdGEucHJlZGljdFRpbWUubGVuZ3RoOwogICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICBsZXQgaXRlbSA9IHt9OwogICAgICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5hbGxEYXRhLnByZWRpY3RUaW1lW2ldKQogICAgICAgICAgICAgICAgaXRlbSA9IHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAoaSArIDEpICsgJ+e6p+itpuaIkicsCiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMuYWxsRGF0YS5wcmVkaWN0VGltZVtpXQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgYXJyLnB1c2goaXRlbSkKICAgICAgICAgICAgfQogICAgICAgICAgICBhcnIgPSBhcnIuc29ydCh0aGlzLmNvbXBhcmUoInZhbHVlIikpCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCJhcnIiKQogICAgICAgICAgICBjb25zb2xlLmxvZyhhcnIpCiAgICAgICAgICAgIHRoaXMuY29uZmlnID0gewogICAgICAgICAgICAgICAgZGF0YTogYXJyLAogICAgICAgICAgICAgICAgY2Fyb3VzZWw6ICdwYWdlJywKICAgICAgICAgICAgICAgIHVuaXQ6ICfnp5InCiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGNvbXBhcmUocHJvcGVydHkpIHsKICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChvYmoxLCBvYmoyKSB7CiAgICAgICAgICAgICAgICB2YXIgdmFsdWUxID0gb2JqMVtwcm9wZXJ0eV07CiAgICAgICAgICAgICAgICB2YXIgdmFsdWUyID0gb2JqMltwcm9wZXJ0eV07CiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUxIC0gdmFsdWUyOyAvLyDljYfluo8KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfQo="},{"version":3,"sources":["alarmTime.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAmBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"alarmTime.vue","sourceRoot":"src/components/page","sourcesContent":["<!--\r\n * @Author: Tashany\r\n * @Date: 2022-04-18 11:53:55\r\n * @LastEditors: Tashany\r\n * @LastEditTime: 2022-05-09 20:02:23\r\n * @Description: file content\r\n * @FilePath: \\water_admin\\src\\components\\page\\alarmTime.vue\r\n-->\r\n<template>\r\n    <div>\r\n        <div class=\"title\" style=\"text-align: left;\">\r\n            <span>▎预测到达各警戒等级的时间</span>\r\n        </div>\r\n        <dv-scroll-ranking-board :config=\"config\" style=\"width:500px;height:300px; \" />\r\n    </div>\r\n\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        data() {\r\n            return {\r\n                config: {\r\n                    data: [{\r\n                            name: '周口',\r\n                            value: 55\r\n                        },\r\n                        {\r\n                            name: '南阳',\r\n                            value: 120\r\n                        },\r\n                        {\r\n                            name: '西峡',\r\n                            value: 78\r\n                        },\r\n                        {\r\n                            name: '驻马店',\r\n                            value: 66\r\n                        }\r\n                    ]\r\n                }\r\n            }\r\n        },\r\n        created() {\r\n            // 再组件创建完成时创建回调函数\r\n            this.$socket.registerCallBack(\"alarmTime\", this.getData)\r\n        },\r\n        destroyed() {\r\n            // 销毁时取消回调函数\r\n            this.$socket.unRegisterCallBack(this.getData)\r\n        },\r\n        methods: {\r\n            getData(ret) {\r\n                this.allData = JSON.parse(ret)\r\n                console.log(this.allData)\r\n                let arr = [];\r\n                let length = this.allData.predictTime.length;\r\n                for (let i = 0; i < length; i++) {\r\n                    let item = {};\r\n                    console.log(this.allData.predictTime[i])\r\n                    item = {\r\n                        name: (i + 1) + '级警戒',\r\n                        value: this.allData.predictTime[i]\r\n                    }\r\n                    arr.push(item)\r\n                }\r\n                arr = arr.sort(this.compare(\"value\"))\r\n                console.log(\"arr\")\r\n                console.log(arr)\r\n                this.config = {\r\n                    data: arr,\r\n                    carousel: 'page',\r\n                    unit: '秒'\r\n                }\r\n            },\r\n            compare(property) {\r\n                return function (obj1, obj2) {\r\n                    var value1 = obj1[property];\r\n                    var value2 = obj2[property];\r\n                    return value1 - value2; // 升序\r\n                }\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style>\r\n\r\n</style>"]}]}