{"remainingRequest":"F:\\waterManager\\water_admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\waterManager\\water_admin\\src\\components\\checkUser.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\waterManager\\water_admin\\src\\components\\checkUser.vue","mtime":1651654773329},{"path":"F:\\waterManager\\water_admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\waterManager\\water_admin\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"F:\\waterManager\\water_admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\waterManager\\water_admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7CiAgICBFdmVudEJ1cwp9IGZyb20gJy4uL3N0b3JlL0J1cy5qcycKaW1wb3J0IHsKICAgIGdldFVzZXJMaXN0LAogICAgZGVsZXRlVXNlcgp9IGZyb20gJ0AvYXBpL3VzZXIuanMnCmV4cG9ydCBkZWZhdWx0IHsKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgdGFibGVEYXRhOiBbewogICAgICAgICAgICAgICAgdXNlcklkOiAiIiwKICAgICAgICAgICAgICAgIHVzZXJOYW1lOiAiIiwKICAgICAgICAgICAgICAgIHVzZXJQYXNzd2FyZDogIiIsCiAgICAgICAgICAgICAgICB1c2VyRW1haWw6ICIiLAogICAgICAgICAgICAgICAgdXNlck51bTogIiIsCiAgICAgICAgICAgICAgICB1c2VySW1nOiAiIiwKICAgICAgICAgICAgICAgIHVzZXJSb290OiAnJywKICAgICAgICAgICAgICAgIHVzZXJzQWRyZXNzOiAiIiwKICAgICAgICAgICAgICAgIHVzZXJSZW1hcms6ICIiLAogICAgICAgICAgICB9XSwKICAgICAgICAgICAgIGN1cnJlbnRQYWdlOiAxLCAvLyDlvZPliY3pobXnoIEKICAgICAgICAgICAgdG90YWw6IDIwLCAvLyDmgLvmnaHmlbAKICAgICAgICAgICAgcGFnZVNpemU6IDUgLy8g5q+P6aG155qE5pWw5o2u5p2h5pWwCiAgICAgICAgfQogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgICBoYW5kbGVFZGl0KGluZGV4LCByb3cpIHsKCiAgICAgICAgICAgIGNvbnNvbGUubG9nKGluZGV4LCByb3cpOwogICAgICAgIH0sCiAgICAgICAgLy/liKDpmaTmjIflrprooYwKICAgICAgICBhc3luYyBoYW5kbGVEZWxldGUoaW5kZXgsIHJvdykgewogICAgICAgICAgICAvLyAvL+WIoOmZpOihqOagvOS/oeaBrwogICAgICAgICAgICAvLyBpZiAodGhpcy50YWJsZURhdGEuc3BsaWNlKGluZGV4LCAxKSkgewogICAgICAgICAgICAvLyAgICAKICAgICAgICAgICAgLy8gfSBlbHNlIHsKICAgICAgICAgICAgLy8gICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICAvLyAgICAgICAgIG1lc3NhZ2U6ICfliKDpmaTlpLHotKXvvIEnLAogICAgICAgICAgICAvLyAgICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICAgICAgICAvLyAgICAgfSk7CiAgICAgICAgICAgIC8vIH0KICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGNvbnN0IHJlcyA9YXdhaXQgZGVsZXRlVXNlcihyb3cudXNlcklkKQogICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzKQogICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ+WIoOmZpOaIkOWKn++8gScsCiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHRoaXMuZ2V0VXNlckxpc3QoKQogICAgICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ+WIoOmZpOWksei0pe+8gScsCiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgICBnZXRVc2VyTGlzdCgpCiAgICAgICAgfSwKICAgICAgICBhc3luYyBnZXRVc2VyTGlzdCgpIHsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGdldFVzZXJMaXN0KCkKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcykKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcy5vYmplY3QpCiAgICAgICAgICAgICAgICB0aGlzLnRhYmxlRGF0YSA9IHJlcy5vYmplY3QKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMudGFibGVEYXRhKQoKICAgICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSkKCiAgICAgICAgICAgIH0KCiAgICAgICAgfSwKICAgICAgICAvL+avj+mhteadoeaVsOaUueWPmOaXtuinpuWPkSDpgInmi6nkuIDpobXmmL7npLrlpJrlsJHooYwKICAgICAgICBoYW5kbGVTaXplQ2hhbmdlKHZhbCkgewogICAgICAgICAgICBjb25zb2xlLmxvZyhg5q+P6aG1ICR7dmFsfSDmnaFgKTsKICAgICAgICAgICAgdGhpcy5jdXJyZW50UGFnZSA9IDE7CiAgICAgICAgICAgIHRoaXMucGFnZVNpemUgPSB2YWw7CiAgICAgICAgfSwKICAgICAgICAvL+W9k+WJjemhteaUueWPmOaXtuinpuWPkSDot7Povazlhbbku5bpobUKICAgICAgICBoYW5kbGVDdXJyZW50Q2hhbmdlKHZhbCkgewogICAgICAgICAgICBjb25zb2xlLmxvZyhg5b2T5YmN6aG1OiAke3ZhbH1gKTsKICAgICAgICAgICAgdGhpcy5jdXJyZW50UGFnZSA9IHZhbDsKICAgICAgICB9CiAgICB9LAogICAgbW91bnRlZCgpIHsKICAgICAgICAvL+WQkee7hOS7tmhlYWQudnVl5Lyg6YCB6Z2i5YyF5bGR5a+86Iiq5YaF5a65CiAgICAgICAgRXZlbnRCdXMuJGVtaXQoInBhdGhJbmZvIiwgW3sKICAgICAgICAgICAgICAgIHRpdGxlOiAn6aaW6aG1JywKICAgICAgICAgICAgICAgIGluZGV4OiAnJwogICAgICAgICAgICB9LAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICB0aXRsZTogJ+S4quS6uueuoeeQhicsCiAgICAgICAgICAgICAgICBpbmRleDogJ0luZGl2aWR1YWxNeUluZm8nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHRpdGxlOiAn5p+l55yL55So5oi3JywKICAgICAgICAgICAgICAgIGluZGV4OiAnL1BlcnNvbmNoZWNrVXNlcicsCiAgICAgICAgICAgIH0sCiAgICAgICAgXSk7CgogICAgICAgIHRoaXMuZ2V0VXNlckxpc3QoKQogICAgfSwKfQo="},{"version":3,"sources":["checkUser.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"checkUser.vue","sourceRoot":"src/components","sourcesContent":["<!--\r\n * @Author: Tashany\r\n * @Date: 2022-03-08 21:54:48\r\n * @LastEditors: Tashany\r\n * @LastEditTime: 2022-04-01 22:09:00\r\n * @Description: file content\r\n * @FilePath: \\water_admin\\src\\components\\checkUser.vue\r\n-->\r\n<template>\r\n    <div>\r\n        <template>\r\n            <el-table :data=\"tableData.slice((currentPage-1)*pageSize,currentPage*pageSize)\" style=\"width: 100%;margin-top:30px\" stripe>\r\n                <el-table-column label=\"管理员编号\" width=\"180\" align=\"center\">\r\n                    <template slot-scope=\"scope\">\r\n                        <i class=\"el-icon-user\"></i>\r\n                        <span style=\"margin-left: 10px\">{{ scope.row.userId }}</span>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column label=\"姓名\" width=\"150\" align=\"center\">\r\n                    <template slot-scope=\"scope\">\r\n                        <i class=\"el-icon-user\"></i>\r\n                        <span style=\"margin-left: 10px\">{{ scope.row.userName }}</span>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column label=\"手机号码\" width=\"180\" align=\"center\">\r\n                    <template slot-scope=\"scope\">\r\n                        <i class=\"el-icon-mobile-phone\"></i>\r\n                        <span style=\"margin-left: 10px\">{{ scope.row.userNum}}</span>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column label=\"邮箱\" width=\"180\" align=\"center\">\r\n                    <template slot-scope=\"scope\">\r\n                        <i class=\"el-icon-mobile-Emaile\"></i>\r\n                        <span style=\"margin-left: 10px\">{{ scope.row.userEmail}}</span>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column label=\"联系地址\" width=\"300\" align=\"center\">\r\n                    <template slot-scope=\"scope\">\r\n                        <i class=\"el-icon-office-building\"></i>\r\n                        <span style=\"margin-left: 10px\">{{ scope.row.userAddress }}</span>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column label=\"备注\" width=\"180\" align=\"center\">\r\n                    <template slot-scope=\"scope\">\r\n                        <i class=\"el-icon-tickets\"></i>\r\n                        <span style=\"margin-left: 10px\">{{ scope.row.userContent }}</span>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column label=\"操作\" align=\"center\">\r\n                    <template slot-scope=\"scope\">\r\n                        <el-button size=\"mini\" type=\"danger\" @click=\"handleDelete(scope.$index, scope.row)\">删除\r\n                        </el-button>\r\n                    </template>\r\n                </el-table-column>\r\n            </el-table>\r\n        </template>\r\n        <el-pagination @size-change=\"handleSizeChange\" \r\n   @current-change=\"handleCurrentChange\"\r\n   :current-page=\"currentPage\" \r\n   :page-sizes=\"[1,5,10,20]\" \r\n   :page-size=\"pageSize\" \r\n   layout=\"total, sizes, prev, pager, next, jumper\" \r\n   :total=\"tableData.length\">\r\n        </el-pagination>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import {\r\n        EventBus\r\n    } from '../store/Bus.js'\r\n    import {\r\n        getUserList,\r\n        deleteUser\r\n    } from '@/api/user.js'\r\n    export default {\r\n        data() {\r\n            return {\r\n                tableData: [{\r\n                    userId: \"\",\r\n                    userName: \"\",\r\n                    userPassward: \"\",\r\n                    userEmail: \"\",\r\n                    userNum: \"\",\r\n                    userImg: \"\",\r\n                    userRoot: '',\r\n                    usersAdress: \"\",\r\n                    userRemark: \"\",\r\n                }],\r\n                 currentPage: 1, // 当前页码\r\n                total: 20, // 总条数\r\n                pageSize: 5 // 每页的数据条数\r\n            }\r\n        },\r\n        methods: {\r\n            handleEdit(index, row) {\r\n\r\n                console.log(index, row);\r\n            },\r\n            //删除指定行\r\n            async handleDelete(index, row) {\r\n                // //删除表格信息\r\n                // if (this.tableData.splice(index, 1)) {\r\n                //    \r\n                // } else {\r\n                //     this.$message({\r\n                //         message: '删除失败！',\r\n                //         type: 'warning'\r\n                //     });\r\n                // }\r\n                try {\r\n                    const res =await deleteUser(row.userId)\r\n                    console.log(res)\r\n                    this.$message({\r\n                        message: '删除成功！',\r\n                        type: 'success'\r\n                    });\r\n                    this.getUserList()\r\n                } catch (error) {\r\n                    this.$message({\r\n                        message: '删除失败！',\r\n                        type: 'warning'\r\n                    });\r\n                }\r\n                getUserList()\r\n            },\r\n            async getUserList() {\r\n                try {\r\n                    const res = await getUserList()\r\n                    console.log(res)\r\n                    console.log(res.object)\r\n                    this.tableData = res.object\r\n                    console.log(this.tableData)\r\n\r\n                } catch (e) {\r\n                    console.log(e)\r\n\r\n                }\r\n\r\n            },\r\n            //每页条数改变时触发 选择一页显示多少行\r\n            handleSizeChange(val) {\r\n                console.log(`每页 ${val} 条`);\r\n                this.currentPage = 1;\r\n                this.pageSize = val;\r\n            },\r\n            //当前页改变时触发 跳转其他页\r\n            handleCurrentChange(val) {\r\n                console.log(`当前页: ${val}`);\r\n                this.currentPage = val;\r\n            }\r\n        },\r\n        mounted() {\r\n            //向组件head.vue传送面包屑导航内容\r\n            EventBus.$emit(\"pathInfo\", [{\r\n                    title: '首页',\r\n                    index: ''\r\n                },\r\n                {\r\n                    title: '个人管理',\r\n                    index: 'IndividualMyInfo'\r\n                },\r\n                {\r\n                    title: '查看用户',\r\n                    index: '/PersoncheckUser',\r\n                },\r\n            ]);\r\n\r\n            this.getUserList()\r\n        },\r\n    }\r\n</script>\r\n\r\n<style>\r\n\r\n</style>"]}]}