{"remainingRequest":"F:\\waterManager\\water_admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\waterManager\\water_admin\\src\\components\\page\\alarmInfo.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\waterManager\\water_admin\\src\\components\\page\\alarmInfo.vue","mtime":1649859359816},{"path":"F:\\waterManager\\water_admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\waterManager\\water_admin\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"F:\\waterManager\\water_admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\waterManager\\water_admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgY2hhcnRJbnN0YW5jZTogbnVsbCwKICAgICAgICAgICAgLy8g6L+U5Zue5pyN5Yqh5Zmo55qE5pWw5o2uCiAgICAgICAgICAgIGFsbERhdGE6IG51bGwsCiAgICAgICAgICAgIGN1cnJlbnRQYWdlOiAxLCAvL+W9k+WJjemhteaVsAogICAgICAgICAgICB0b3RhbFBhZ2U6IDAsIC8v5oC76aG15pWwCiAgICAgICAgICAgIHRpbWVySWQ6IG51bGwsIC8vIOWumuaXtuWZqOagh+ivhiwKICAgICAgICAgICAgc2hvd0Nob2ljZTogZmFsc2UsIC8v5piv5ZCm5pi+56S65Y+v6YCJ6aG5CiAgICAgICAgICAgIHR5cGU6ICdsaW5lJywKICAgICAgICAgICAgdGl0bGVGb250U2l6ZTogbnVsbCAvL+aMh+aYjuagh+mimOWtl+S9k+Wkp+WwjwogICAgICAgIH0KICAgIH0sCiAgICBtb3VudGVkKCkgewogICAgICAgIHRoaXMuaW5pdENoYXJ0KCkKICAgICAgICB0aGlzLmdldERhdGEoKQogICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLnNjcmVlbkFkYXB0ZXIpCiAgICAgICAgdGhpcy5zY3JlZW5BZGFwdGVyKCkKICAgIH0sCiAgICBkZXN0cm95ZWQoKSB7CiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVySWQpCiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuc2NyZWVuQWRhcHRlcikKICAgIH0sCiAgICBjb21wdXRlZDogewogICAgICAgIC8vIOiuvue9rue7meagh+mimOeahOagt+W8jwogICAgICAgIGNvbVN0eWxlKCkgewogICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgZm9udFNpemU6IHRoaXMudGl0bGVGb250U2l6ZSArICdweCcKICAgICAgICAgICAgfQoKICAgICAgICB9CiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIC8vIOWIneWni+WMlmVjaGFydEluc3RhbmNl5a+56LGhCiAgICAgICAgaW5pdENoYXJ0KCkgewogICAgICAgICAgICB0aGlzLmNoYXJ0SW5zdGFuY2UgPSB0aGlzLiRlY2hhcnRzLmluaXQodGhpcy4kcmVmcy5hbGFybUxldmVsLCAnY2hhbGsnKQogICAgICAgICAgICBjb25zdCBpbml0T3B0aW9uID0gewogICAgICAgICAgICAgICAgdGl0bGU6IHsKICAgICAgICAgICAgICAgICAgICB0ZXh0OiAn6K2m5oiS5qyh5pWw5Y2g5q+UJywKICAgICAgICAgICAgICAgICAgICBsZWZ0OiAyMCwKICAgICAgICAgICAgICAgICAgICB0b3A6IDIwCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgbGVnZW5kOnsKICAgICAgICAgICAgICAgICAgICB0b3A6JzI1JScsCiAgICAgICAgICAgICAgICAgICAgaWNvbjonY2lyY2xlJwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHNlcmllczogW3sKICAgICAgICAgICAgICAgICAgICB0eXBlOiAncGllJywKICAgICAgICAgICAgICAgICAgICBsYWJlbDogewogICAgICAgICAgICAgICAgICAgICAgICBzaG93OiBmYWxzZQogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgZW1waGFzaXM6IHsKICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3c6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtYXR0ZXI6YXJnID0+ewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJldHVybiBkYXRhLmluZm8KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhhcmcpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFyZy5kYXRhYWxhcm1JbmZvCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIHJvc2VUeXBlOiAnYXJlYScsCiAgICAgICAgICAgICAgICAgICAgcmFkaXVzOiBbMzAsIDkwXSwKICAgICAgICAgICAgICAgICAgICBjZW50ZXI6IFsnNTAlJywgJzcwJSddLAogICAgICAgICAgICAgICAgICAgIGl0ZW1TdHlsZTogewogICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IDUKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9LCBdLAogICAgICAgICAgICAgICAgdG9vbHRpcDogewogICAgICAgICAgICAgICAgICAgIHNob3c6dHJ1ZSwKICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyOidpdGVtJywKICAgICAgICAgICAgICAgICAgICBmb3JtYXR0ZXI6ICJ7Yn06IHtjfSAoe2R9JSkiLy/mqKHmnb/lj5jph4/mnIkge2F944CBe2J944CBe2N944CBe2R977yM5YiG5Yir6KGo56S657O75YiX5ZCN77yM5pWw5o2u5ZCN77yM5pWw5o2u5YC877yM55m+5YiG5q+U44CCCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhpcy5jaGFydEluc3RhbmNlLnNldE9wdGlvbihpbml0T3B0aW9uKQogICAgICAgIH0sCiAgICAgICAgLy8g6I635Y+W5pyN5Yqh5Zmo5pWw5o2uCiAgICAgICAgZ2V0RGF0YSgpIHsKICAgICAgICAgICAgdGhpcy51cGRhdGVDaGFydCgpCiAgICAgICAgfSwKICAgICAgICAvLyDmm7TmlrDlm77ooagKICAgICAgICB1cGRhdGVDaGFydCgpIHsKICAgICAgICAgICAgdmFyIHNlcmllc2RhdGEgPSBbewogICAgICAgICAgICAgICAgdmFsdWU6ICcxMCcsCiAgICAgICAgICAgICAgICBuYW1lOiAn5LiA57qn6K2m5oiSJywKICAgICAgICAgICAgICAgIGFsYXJtSW5mbzon5LiA57qn6K2m5oiS5rC05L2N6auY5bqmMjAwbW0nCiAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgIHZhbHVlOiAnMjAnLAogICAgICAgICAgICAgICAgbmFtZTogJ+S6jOe6p+itpuaIkicsCiAgICAgICAgICAgICAgICBhbGFybUluZm86J+S6jOe6p+itpuaIkuawtOS9jemrmOW6pjIwMG1tJwogICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICB2YWx1ZTogJzMwJywKICAgICAgICAgICAgICAgIG5hbWU6ICfkuInnuqforabmiJInLAogICAgICAgICAgICAgICAgYWxhcm1JbmZvOifkuoznuqforabmiJLmsLTkvY3pq5jluqYyMDBtbScKICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgdmFsdWU6ICc1MCcsCiAgICAgICAgICAgICAgICBuYW1lOiAn5Zub57qn6K2m5oiSJywKICAgICAgICAgICAgICAgIGFsYXJtSW5mbzon5LiJ57qn6K2m5oiS5rC05L2N6auY5bqmMjAwbW0nCiAgICAgICAgICAgIH1dCiAgICAgICAgICAgIGNvbnN0IG9wdGlvbiA9IHsKICAgICAgICAgICAgICAgIHNlcmllczogW3sKICAgICAgICAgICAgICAgICAgICBkYXRhOiBzZXJpZXNkYXRhCiAgICAgICAgICAgICAgICB9XQogICAgICAgICAgICB9CgoKICAgICAgICAgICAgdGhpcy5jaGFydEluc3RhbmNlLnNldE9wdGlvbihvcHRpb24pCiAgICAgICAgfSwKICAgICAgICAvLyDlsY/luZXlpKflsI/pgILphY0g5Zu+5qCH6Ieq6YCC5bqUCiAgICAgICAgc2NyZWVuQWRhcHRlcigpIHsKICAgICAgICAgICAgLy8g5b6X5Yiw5Zu+5qCH5a655Zmo5a695bqmLeOAi+iOt+WPluWtl+S9k+Wkp+WwjwogICAgICAgICAgICB0aGlzLnRpdGxlRm9udFNpemUgPSAodGhpcy4kcmVmcy5hbGFybUxldmVsLm9mZnNldFdpZHRoIC8gMTAwKSAqIDMuNgogICAgICAgICAgICBjb25zb2xlLmxvZygxMykKICAgICAgICAgICAgY29uc3QgYWRhcHRlck9wdGlvbiA9IHsKICAgICAgICAgICAgICAgIHRpdGxlOnsKICAgICAgICAgICAgICAgICAgICB0ZXh0U3R5bGU6ewogICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTp0aGlzLnRpdGxlRm9udFNpemUKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgLy/lm77kvovlpKflsI8KICAgICAgICAgICAgICAgIGxlbmd0aDp7CiAgICAgICAgICAgICAgICAgICAgaXRlbVdpZHRoOnRoaXMudGl0bGVGb250U2l6ZS8yCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhpcy5jaGFydEluc3RhbmNlLnNldE9wdGlvbihhZGFwdGVyT3B0aW9uKQogICAgICAgICAgICB0aGlzLmNoYXJ0SW5zdGFuY2UucmVzaXplKCkKICAgICAgICB9CiAgICB9Cn0K"},{"version":3,"sources":["alarmInfo.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;AAeA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"alarmInfo.vue","sourceRoot":"src/components/page","sourcesContent":["<!--\r\n * @Author: Tashany\r\n * @Date: 2022-04-13 20:51:01\r\n * @LastEditors: Tashany\r\n * @LastEditTime: 2022-04-13 22:15:05\r\n * @Description: file content\r\n * @FilePath: \\water_admin\\src\\components\\page\\alarmInfo.vue\r\n-->\r\n<template>\r\n    <div class=\"com-container\">\r\n        <div class=\"com-chart\" ref=\"alarmLevel\"></div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        data() {\r\n            return {\r\n                chartInstance: null,\r\n                // 返回服务器的数据\r\n                allData: null,\r\n                currentPage: 1, //当前页数\r\n                totalPage: 0, //总页数\r\n                timerId: null, // 定时器标识,\r\n                showChoice: false, //是否显示可选项\r\n                type: 'line',\r\n                titleFontSize: null //指明标题字体大小\r\n            }\r\n        },\r\n        mounted() {\r\n            this.initChart()\r\n            this.getData()\r\n            window.addEventListener('resize', this.screenAdapter)\r\n            this.screenAdapter()\r\n        },\r\n        destroyed() {\r\n            clearInterval(this.timerId)\r\n            window.removeEventListener('resize', this.screenAdapter)\r\n        },\r\n        computed: {\r\n            // 设置给标题的样式\r\n            comStyle() {\r\n                return {\r\n                    fontSize: this.titleFontSize + 'px'\r\n                }\r\n\r\n            }\r\n        },\r\n        methods: {\r\n            // 初始化echartInstance对象\r\n            initChart() {\r\n                this.chartInstance = this.$echarts.init(this.$refs.alarmLevel, 'chalk')\r\n                const initOption = {\r\n                    title: {\r\n                        text: '警戒次数占比',\r\n                        left: 20,\r\n                        top: 20\r\n                    },\r\n                    legend:{\r\n                        top:'25%',\r\n                        icon:'circle'\r\n                    },\r\n                    series: [{\r\n                        type: 'pie',\r\n                        label: {\r\n                            show: false\r\n                        },\r\n                        emphasis: {\r\n                            label: {\r\n                                show: true,\r\n                                formatter:arg =>{\r\n                                    // return data.info\r\n                                    console.log(arg)\r\n                                    return arg.dataalarmInfo\r\n                                }\r\n                            }\r\n                        },\r\n                        roseType: 'area',\r\n                        radius: [30, 90],\r\n                        center: ['50%', '70%'],\r\n                        itemStyle: {\r\n                            borderRadius: 5\r\n                        }\r\n                    }, ],\r\n                    tooltip: {\r\n                        show:true,\r\n                        trigger:'item',\r\n                        formatter: \"{b}: {c} ({d}%)\"//模板变量有 {a}、{b}、{c}、{d}，分别表示系列名，数据名，数据值，百分比。\r\n                    }\r\n                }\r\n                this.chartInstance.setOption(initOption)\r\n            },\r\n            // 获取服务器数据\r\n            getData() {\r\n                this.updateChart()\r\n            },\r\n            // 更新图表\r\n            updateChart() {\r\n                var seriesdata = [{\r\n                    value: '10',\r\n                    name: '一级警戒',\r\n                    alarmInfo:'一级警戒水位高度200mm'\r\n                }, {\r\n                    value: '20',\r\n                    name: '二级警戒',\r\n                    alarmInfo:'二级警戒水位高度200mm'\r\n                }, {\r\n                    value: '30',\r\n                    name: '三级警戒',\r\n                    alarmInfo:'二级警戒水位高度200mm'\r\n                }, {\r\n                    value: '50',\r\n                    name: '四级警戒',\r\n                    alarmInfo:'三级警戒水位高度200mm'\r\n                }]\r\n                const option = {\r\n                    series: [{\r\n                        data: seriesdata\r\n                    }]\r\n                }\r\n\r\n\r\n                this.chartInstance.setOption(option)\r\n            },\r\n            // 屏幕大小适配 图标自适应\r\n            screenAdapter() {\r\n                // 得到图标容器宽度-》获取字体大小\r\n                this.titleFontSize = (this.$refs.alarmLevel.offsetWidth / 100) * 3.6\r\n                console.log(13)\r\n                const adapterOption = {\r\n                    title:{\r\n                        textStyle:{\r\n                            fontSize:this.titleFontSize\r\n                        }\r\n                    },\r\n                    //图例大小\r\n                    length:{\r\n                        itemWidth:this.titleFontSize/2\r\n                    }\r\n                }\r\n                this.chartInstance.setOption(adapterOption)\r\n                this.chartInstance.resize()\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n\r\n<style lang=\"less\" scoped>\r\n    .title {\r\n        position: absolute;\r\n        left: 20px;\r\n        top: 20px;\r\n        z-index: 10;\r\n        color: white;\r\n\r\n        .title-icon {\r\n            margin-left: 10px;\r\n            cursor: pointer;\r\n        }\r\n    }\r\n</style>"]}]}