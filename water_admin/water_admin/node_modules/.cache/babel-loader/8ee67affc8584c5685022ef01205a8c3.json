{"remainingRequest":"F:\\waterManager\\water_admin\\node_modules\\babel-loader\\lib\\index.js!F:\\waterManager\\water_admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!F:\\waterManager\\water_admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\waterManager\\water_admin\\src\\components\\page\\alarmInfo.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\waterManager\\water_admin\\src\\components\\page\\alarmInfo.vue","mtime":1649859359816},{"path":"F:\\waterManager\\water_admin\\babel.config.js","mtime":1646632679840},{"path":"F:\\waterManager\\water_admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\waterManager\\water_admin\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"F:\\waterManager\\water_admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\waterManager\\water_admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjaGFydEluc3RhbmNlOiBudWxsLAogICAgICAvLyDov5Tlm57mnI3liqHlmajnmoTmlbDmja4KICAgICAgYWxsRGF0YTogbnVsbCwKICAgICAgY3VycmVudFBhZ2U6IDEsCiAgICAgIC8v5b2T5YmN6aG15pWwCiAgICAgIHRvdGFsUGFnZTogMCwKICAgICAgLy/mgLvpobXmlbAKICAgICAgdGltZXJJZDogbnVsbCwKICAgICAgLy8g5a6a5pe25Zmo5qCH6K+GLAogICAgICBzaG93Q2hvaWNlOiBmYWxzZSwKICAgICAgLy/mmK/lkKbmmL7npLrlj6/pgInpobkKICAgICAgdHlwZTogJ2xpbmUnLAogICAgICB0aXRsZUZvbnRTaXplOiBudWxsIC8v5oyH5piO5qCH6aKY5a2X5L2T5aSn5bCPCgogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmluaXRDaGFydCgpOwogICAgdGhpcy5nZXREYXRhKCk7CiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5zY3JlZW5BZGFwdGVyKTsKICAgIHRoaXMuc2NyZWVuQWRhcHRlcigpOwogIH0sCiAgZGVzdHJveWVkOiBmdW5jdGlvbiBkZXN0cm95ZWQoKSB7CiAgICBjbGVhckludGVydmFsKHRoaXMudGltZXJJZCk7CiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5zY3JlZW5BZGFwdGVyKTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICAvLyDorr7nva7nu5nmoIfpopjnmoTmoLflvI8KICAgIGNvbVN0eWxlOiBmdW5jdGlvbiBjb21TdHlsZSgpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBmb250U2l6ZTogdGhpcy50aXRsZUZvbnRTaXplICsgJ3B4JwogICAgICB9OwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgLy8g5Yid5aeL5YyWZWNoYXJ0SW5zdGFuY2Xlr7nosaEKICAgIGluaXRDaGFydDogZnVuY3Rpb24gaW5pdENoYXJ0KCkgewogICAgICB0aGlzLmNoYXJ0SW5zdGFuY2UgPSB0aGlzLiRlY2hhcnRzLmluaXQodGhpcy4kcmVmcy5hbGFybUxldmVsLCAnY2hhbGsnKTsKICAgICAgdmFyIGluaXRPcHRpb24gPSB7CiAgICAgICAgdGl0bGU6IHsKICAgICAgICAgIHRleHQ6ICforabmiJLmrKHmlbDljaDmr5QnLAogICAgICAgICAgbGVmdDogMjAsCiAgICAgICAgICB0b3A6IDIwCiAgICAgICAgfSwKICAgICAgICBsZWdlbmQ6IHsKICAgICAgICAgIHRvcDogJzI1JScsCiAgICAgICAgICBpY29uOiAnY2lyY2xlJwogICAgICAgIH0sCiAgICAgICAgc2VyaWVzOiBbewogICAgICAgICAgdHlwZTogJ3BpZScsCiAgICAgICAgICBsYWJlbDogewogICAgICAgICAgICBzaG93OiBmYWxzZQogICAgICAgICAgfSwKICAgICAgICAgIGVtcGhhc2lzOiB7CiAgICAgICAgICAgIGxhYmVsOiB7CiAgICAgICAgICAgICAgc2hvdzogdHJ1ZSwKICAgICAgICAgICAgICBmb3JtYXR0ZXI6IGZ1bmN0aW9uIGZvcm1hdHRlcihhcmcpIHsKICAgICAgICAgICAgICAgIC8vIHJldHVybiBkYXRhLmluZm8KICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGFyZyk7CiAgICAgICAgICAgICAgICByZXR1cm4gYXJnLmRhdGFhbGFybUluZm87CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LAogICAgICAgICAgcm9zZVR5cGU6ICdhcmVhJywKICAgICAgICAgIHJhZGl1czogWzMwLCA5MF0sCiAgICAgICAgICBjZW50ZXI6IFsnNTAlJywgJzcwJSddLAogICAgICAgICAgaXRlbVN0eWxlOiB7CiAgICAgICAgICAgIGJvcmRlclJhZGl1czogNQogICAgICAgICAgfQogICAgICAgIH1dLAogICAgICAgIHRvb2x0aXA6IHsKICAgICAgICAgIHNob3c6IHRydWUsCiAgICAgICAgICB0cmlnZ2VyOiAnaXRlbScsCiAgICAgICAgICBmb3JtYXR0ZXI6ICJ7Yn06IHtjfSAoe2R9JSkiIC8v5qih5p2/5Y+Y6YeP5pyJIHthfeOAgXtifeOAgXtjfeOAgXtkfe+8jOWIhuWIq+ihqOekuuezu+WIl+WQje+8jOaVsOaNruWQje+8jOaVsOaNruWAvO+8jOeZvuWIhuavlOOAggoKICAgICAgICB9CiAgICAgIH07CiAgICAgIHRoaXMuY2hhcnRJbnN0YW5jZS5zZXRPcHRpb24oaW5pdE9wdGlvbik7CiAgICB9LAogICAgLy8g6I635Y+W5pyN5Yqh5Zmo5pWw5o2uCiAgICBnZXREYXRhOiBmdW5jdGlvbiBnZXREYXRhKCkgewogICAgICB0aGlzLnVwZGF0ZUNoYXJ0KCk7CiAgICB9LAogICAgLy8g5pu05paw5Zu+6KGoCiAgICB1cGRhdGVDaGFydDogZnVuY3Rpb24gdXBkYXRlQ2hhcnQoKSB7CiAgICAgIHZhciBzZXJpZXNkYXRhID0gW3sKICAgICAgICB2YWx1ZTogJzEwJywKICAgICAgICBuYW1lOiAn5LiA57qn6K2m5oiSJywKICAgICAgICBhbGFybUluZm86ICfkuIDnuqforabmiJLmsLTkvY3pq5jluqYyMDBtbScKICAgICAgfSwgewogICAgICAgIHZhbHVlOiAnMjAnLAogICAgICAgIG5hbWU6ICfkuoznuqforabmiJInLAogICAgICAgIGFsYXJtSW5mbzogJ+S6jOe6p+itpuaIkuawtOS9jemrmOW6pjIwMG1tJwogICAgICB9LCB7CiAgICAgICAgdmFsdWU6ICczMCcsCiAgICAgICAgbmFtZTogJ+S4iee6p+itpuaIkicsCiAgICAgICAgYWxhcm1JbmZvOiAn5LqM57qn6K2m5oiS5rC05L2N6auY5bqmMjAwbW0nCiAgICAgIH0sIHsKICAgICAgICB2YWx1ZTogJzUwJywKICAgICAgICBuYW1lOiAn5Zub57qn6K2m5oiSJywKICAgICAgICBhbGFybUluZm86ICfkuInnuqforabmiJLmsLTkvY3pq5jluqYyMDBtbScKICAgICAgfV07CiAgICAgIHZhciBvcHRpb24gPSB7CiAgICAgICAgc2VyaWVzOiBbewogICAgICAgICAgZGF0YTogc2VyaWVzZGF0YQogICAgICAgIH1dCiAgICAgIH07CiAgICAgIHRoaXMuY2hhcnRJbnN0YW5jZS5zZXRPcHRpb24ob3B0aW9uKTsKICAgIH0sCiAgICAvLyDlsY/luZXlpKflsI/pgILphY0g5Zu+5qCH6Ieq6YCC5bqUCiAgICBzY3JlZW5BZGFwdGVyOiBmdW5jdGlvbiBzY3JlZW5BZGFwdGVyKCkgewogICAgICAvLyDlvpfliLDlm77moIflrrnlmajlrr3luqYt44CL6I635Y+W5a2X5L2T5aSn5bCPCiAgICAgIHRoaXMudGl0bGVGb250U2l6ZSA9IHRoaXMuJHJlZnMuYWxhcm1MZXZlbC5vZmZzZXRXaWR0aCAvIDEwMCAqIDMuNjsKICAgICAgY29uc29sZS5sb2coMTMpOwogICAgICB2YXIgYWRhcHRlck9wdGlvbiA9IHsKICAgICAgICB0aXRsZTogewogICAgICAgICAgdGV4dFN0eWxlOiB7CiAgICAgICAgICAgIGZvbnRTaXplOiB0aGlzLnRpdGxlRm9udFNpemUKICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIC8v5Zu+5L6L5aSn5bCPCiAgICAgICAgbGVuZ3RoOiB7CiAgICAgICAgICBpdGVtV2lkdGg6IHRoaXMudGl0bGVGb250U2l6ZSAvIDIKICAgICAgICB9CiAgICAgIH07CiAgICAgIHRoaXMuY2hhcnRJbnN0YW5jZS5zZXRPcHRpb24oYWRhcHRlck9wdGlvbik7CiAgICAgIHRoaXMuY2hhcnRJbnN0YW5jZS5yZXNpemUoKTsKICAgIH0KICB9Cn07"},{"version":3,"mappings":";;;;;;;;;;;;;;AAeA;AACAA,MADA,kBACA;AACA;AACAC,yBADA;AAEA;AACAC,mBAHA;AAIAC,oBAJA;AAIA;AACAC,kBALA;AAKA;AACAC,mBANA;AAMA;AACAC,uBAPA;AAOA;AACAC,kBARA;AASAC,yBATA,CASA;;AATA;AAWA,GAbA;AAcAC,SAdA,qBAcA;AACA;AACA;AACAC;AACA;AACA,GAnBA;AAoBAC,WApBA,uBAoBA;AACAC;AACAF;AACA,GAvBA;AAwBAG;AACA;AACAC,YAFA,sBAEA;AACA;AACAC;AADA;AAIA;AAPA,GAxBA;AAiCAC;AACA;AACAC,aAFA,uBAEA;AACA;AACA;AACAC;AACAC,wBADA;AAEAC,kBAFA;AAGAC;AAHA,SADA;AAMAC;AACAD,oBADA;AAEAE;AAFA,SANA;AAUAC;AACAjB,qBADA;AAEAkB;AACAC;AADA,WAFA;AAKAC;AACAF;AACAC,wBADA;AAEAE;AACA;AACAC;AACA;AACA;AANA;AADA,WALA;AAeAC,0BAfA;AAgBAC,0BAhBA;AAiBAC,gCAjBA;AAkBAC;AACAC;AADA;AAlBA,UAVA;AAgCAC;AACAT,oBADA;AAEAU,yBAFA;AAGAR,sCAHA,CAGA;;AAHA;AAhCA;AAsCA;AACA,KA3CA;AA4CA;AACAS,WA7CA,qBA6CA;AACA;AACA,KA/CA;AAgDA;AACAC,eAjDA,yBAiDA;AACA;AACAC,mBADA;AAEAC,oBAFA;AAGAC;AAHA,SAIA;AACAF,mBADA;AAEAC,oBAFA;AAGAC;AAHA,OAJA,EAQA;AACAF,mBADA;AAEAC,oBAFA;AAGAC;AAHA,OARA,EAYA;AACAF,mBADA;AAEAC,oBAFA;AAGAC;AAHA,OAZA;AAiBA;AACAjB;AACAxB;AADA;AADA;AAOA;AACA,KA3EA;AA4EA;AACA0C,iBA7EA,2BA6EA;AACA;AACA;AACAb;AACA;AACAX;AACAyB;AACA5B;AADA;AADA,SADA;AAMA;AACA6B;AACAC;AADA;AAPA;AAWA;AACA;AACA;AA9FA;AAjCA","names":["data","chartInstance","allData","currentPage","totalPage","timerId","showChoice","type","titleFontSize","mounted","window","destroyed","clearInterval","computed","comStyle","fontSize","methods","initChart","title","text","left","top","legend","icon","series","label","show","emphasis","formatter","console","roseType","radius","center","itemStyle","borderRadius","tooltip","trigger","getData","updateChart","value","name","alarmInfo","screenAdapter","textStyle","length","itemWidth"],"sourceRoot":"src/components/page","sources":["alarmInfo.vue"],"sourcesContent":["<!--\r\n * @Author: Tashany\r\n * @Date: 2022-04-13 20:51:01\r\n * @LastEditors: Tashany\r\n * @LastEditTime: 2022-04-13 22:15:05\r\n * @Description: file content\r\n * @FilePath: \\water_admin\\src\\components\\page\\alarmInfo.vue\r\n-->\r\n<template>\r\n    <div class=\"com-container\">\r\n        <div class=\"com-chart\" ref=\"alarmLevel\"></div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        data() {\r\n            return {\r\n                chartInstance: null,\r\n                // 返回服务器的数据\r\n                allData: null,\r\n                currentPage: 1, //当前页数\r\n                totalPage: 0, //总页数\r\n                timerId: null, // 定时器标识,\r\n                showChoice: false, //是否显示可选项\r\n                type: 'line',\r\n                titleFontSize: null //指明标题字体大小\r\n            }\r\n        },\r\n        mounted() {\r\n            this.initChart()\r\n            this.getData()\r\n            window.addEventListener('resize', this.screenAdapter)\r\n            this.screenAdapter()\r\n        },\r\n        destroyed() {\r\n            clearInterval(this.timerId)\r\n            window.removeEventListener('resize', this.screenAdapter)\r\n        },\r\n        computed: {\r\n            // 设置给标题的样式\r\n            comStyle() {\r\n                return {\r\n                    fontSize: this.titleFontSize + 'px'\r\n                }\r\n\r\n            }\r\n        },\r\n        methods: {\r\n            // 初始化echartInstance对象\r\n            initChart() {\r\n                this.chartInstance = this.$echarts.init(this.$refs.alarmLevel, 'chalk')\r\n                const initOption = {\r\n                    title: {\r\n                        text: '警戒次数占比',\r\n                        left: 20,\r\n                        top: 20\r\n                    },\r\n                    legend:{\r\n                        top:'25%',\r\n                        icon:'circle'\r\n                    },\r\n                    series: [{\r\n                        type: 'pie',\r\n                        label: {\r\n                            show: false\r\n                        },\r\n                        emphasis: {\r\n                            label: {\r\n                                show: true,\r\n                                formatter:arg =>{\r\n                                    // return data.info\r\n                                    console.log(arg)\r\n                                    return arg.dataalarmInfo\r\n                                }\r\n                            }\r\n                        },\r\n                        roseType: 'area',\r\n                        radius: [30, 90],\r\n                        center: ['50%', '70%'],\r\n                        itemStyle: {\r\n                            borderRadius: 5\r\n                        }\r\n                    }, ],\r\n                    tooltip: {\r\n                        show:true,\r\n                        trigger:'item',\r\n                        formatter: \"{b}: {c} ({d}%)\"//模板变量有 {a}、{b}、{c}、{d}，分别表示系列名，数据名，数据值，百分比。\r\n                    }\r\n                }\r\n                this.chartInstance.setOption(initOption)\r\n            },\r\n            // 获取服务器数据\r\n            getData() {\r\n                this.updateChart()\r\n            },\r\n            // 更新图表\r\n            updateChart() {\r\n                var seriesdata = [{\r\n                    value: '10',\r\n                    name: '一级警戒',\r\n                    alarmInfo:'一级警戒水位高度200mm'\r\n                }, {\r\n                    value: '20',\r\n                    name: '二级警戒',\r\n                    alarmInfo:'二级警戒水位高度200mm'\r\n                }, {\r\n                    value: '30',\r\n                    name: '三级警戒',\r\n                    alarmInfo:'二级警戒水位高度200mm'\r\n                }, {\r\n                    value: '50',\r\n                    name: '四级警戒',\r\n                    alarmInfo:'三级警戒水位高度200mm'\r\n                }]\r\n                const option = {\r\n                    series: [{\r\n                        data: seriesdata\r\n                    }]\r\n                }\r\n\r\n\r\n                this.chartInstance.setOption(option)\r\n            },\r\n            // 屏幕大小适配 图标自适应\r\n            screenAdapter() {\r\n                // 得到图标容器宽度-》获取字体大小\r\n                this.titleFontSize = (this.$refs.alarmLevel.offsetWidth / 100) * 3.6\r\n                console.log(13)\r\n                const adapterOption = {\r\n                    title:{\r\n                        textStyle:{\r\n                            fontSize:this.titleFontSize\r\n                        }\r\n                    },\r\n                    //图例大小\r\n                    length:{\r\n                        itemWidth:this.titleFontSize/2\r\n                    }\r\n                }\r\n                this.chartInstance.setOption(adapterOption)\r\n                this.chartInstance.resize()\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n\r\n<style lang=\"less\" scoped>\r\n    .title {\r\n        position: absolute;\r\n        left: 20px;\r\n        top: 20px;\r\n        z-index: 10;\r\n        color: white;\r\n\r\n        .title-icon {\r\n            margin-left: 10px;\r\n            cursor: pointer;\r\n        }\r\n    }\r\n</style>"]}]}