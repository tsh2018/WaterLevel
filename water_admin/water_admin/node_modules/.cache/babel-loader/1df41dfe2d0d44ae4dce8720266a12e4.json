{"remainingRequest":"F:\\waterManager\\water_admin\\node_modules\\babel-loader\\lib\\index.js!F:\\waterManager\\water_admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!F:\\waterManager\\water_admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\waterManager\\water_admin\\src\\components\\page\\acceleration.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\waterManager\\water_admin\\src\\components\\page\\acceleration.vue","mtime":1650957863401},{"path":"F:\\waterManager\\water_admin\\babel.config.js","mtime":1646632679840},{"path":"F:\\waterManager\\water_admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\waterManager\\water_admin\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"F:\\waterManager\\water_admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\waterManager\\water_admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zb3J0LmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjaGFydEluc3RhbmNlOiBudWxsLAogICAgICAvLyDov5Tlm57mnI3liqHlmajnmoTmlbDmja4KICAgICAgYWxsRGF0YTogbnVsbCwKICAgICAgY3VycmVudFBhZ2U6IDEsCiAgICAgIC8v5b2T5YmN6aG15pWwCiAgICAgIHRvdGFsUGFnZTogMCwKICAgICAgLy/mgLvpobXmlbAKICAgICAgdGltZXJJZDogbnVsbCwKICAgICAgLy8g5a6a5pe25Zmo5qCH6K+GLAogICAgICBzaG93Q2hvaWNlOiBmYWxzZSwKICAgICAgdHlwZTogJ2xpbmUnLAogICAgICB0aXRsZUZvbnRTaXplOiBudWxsLAogICAgICAvL+aMh+aYjuagh+mimOWtl+S9k+Wkp+WwjwogICAgICB4RGF0YTogbnVsbCwKICAgICAgeURhdGE6IG51bGwKICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgLy8g5YaN57uE5Lu25Yib5bu65a6M5oiQ5pe25Yib5bu65Zue6LCD5Ye95pWwCiAgICB0aGlzLiRzb2NrZXQucmVnaXN0ZXJDYWxsQmFjaygnYWNjZWxlcmF0aW9uJywgdGhpcy5nZXREYXRhKTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmluaXRDaGFydCgpOyAvLyB0aGlzLmdldERhdGEoKQoKICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLnNjcmVlbkFkYXB0ZXIpOwogICAgdGhpcy5zY3JlZW5BZGFwdGVyKCk7IC8vIGdldENvbm5lY3QoKQogIH0sCiAgZGVzdHJveWVkOiBmdW5jdGlvbiBkZXN0cm95ZWQoKSB7CiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5zY3JlZW5BZGFwdGVyKTsgLy8g6ZSA5q+B5pe25Y+W5raI5Zue6LCD5Ye95pWwCgogICAgdGhpcy4kc29ja2V0LnVuUmVnaXN0ZXJDYWxsQmFjayh0aGlzLmdldERhdGEpOwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC8vIOiuvue9rue7meagh+mimOeahOagt+W8jwogICAgY29tU3R5bGU6IGZ1bmN0aW9uIGNvbVN0eWxlKCkgewogICAgICByZXR1cm4gewogICAgICAgIGZvbnRTaXplOiB0aGlzLnRpdGxlRm9udFNpemUgKyAncHgnCiAgICAgIH07CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDliJ3lp4vljJZlY2hhcnRJbnN0YW5jZeWvueixoQogICAgaW5pdENoYXJ0OiBmdW5jdGlvbiBpbml0Q2hhcnQoKSB7CiAgICAgIHRoaXMuY2hhcnRJbnN0YW5jZSA9IHRoaXMuJGVjaGFydHMuaW5pdCh0aGlzLiRyZWZzLndhdGVyQWNjZWxlcmF0aW9uLCAnY2hhbGsnKTsKICAgICAgdmFyIGluaXRPcHRpb24gPSB7CiAgICAgICAgLy8g6K6+572u55u05o6l5Z2Q5qCH57O75Z2Q5qCH6L205aSn5YaZCiAgICAgICAgZ3JpZDogewogICAgICAgICAgbGVmdDogJzMlJywKICAgICAgICAgIHRvcDogJzM1JScsCiAgICAgICAgICByaWdodDogJzQlJywKICAgICAgICAgIGJvdHRvbTogJzElJywKICAgICAgICAgIGNvbnRhaW5MYWJlbDogdHJ1ZQogICAgICAgIH0sCiAgICAgICAgeEF4aXM6IHsKICAgICAgICAgIC8vIOWPlua2iOmXtOmamQogICAgICAgICAgdHlwZTogJ2NhdGVnb3J5JyAvLyBib3VuZGFyeUdhcDogZmFsc2UKCiAgICAgICAgfSwKICAgICAgICB5QXhpczoge30sCiAgICAgICAgdG9vbHRpcDogewogICAgICAgICAgdHJpZ2dlcjogJ2F4aXMnCiAgICAgICAgfQogICAgICB9OwogICAgICB0aGlzLmNoYXJ0SW5zdGFuY2Uuc2V0T3B0aW9uKGluaXRPcHRpb24pOwogICAgfSwKICAgIC8vIOiOt+WPluacjeWKoeWZqOaVsOaNrgogICAgZ2V0RGF0YTogZnVuY3Rpb24gZ2V0RGF0YShyZXQpIHsKICAgICAgY29uc29sZS5sb2coMzMzKTsKICAgICAgdGhpcy5hbGxEYXRhID0gSlNPTi5wYXJzZShyZXQpOwogICAgICB0aGlzLnVwZGF0ZUNoYXJ0KCk7CiAgICB9LAogICAgLy8g5pu05paw5Zu+6KGoCiAgICB1cGRhdGVDaGFydDogZnVuY3Rpb24gdXBkYXRlQ2hhcnQoKSB7CiAgICAgIHRoaXMueURhdGEgPSB0aGlzLmFsbERhdGEud2F0ZXJBY2NlbGVyYXRpb24ubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW07CiAgICAgIH0pOwogICAgICB0aGlzLnhEYXRhID0gdGhpcy5hbGxEYXRhLm1lYXN1cmVUaW1lLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtLnNwbGl0KCIgIilbMV07CiAgICAgIH0pOwogICAgICAvKuaVsOe7hOaOkuW6jyovCgogICAgICB0aGlzLnhEYXRhLnNvcnQoKTsKICAgICAgdmFyIG9wdGlvbiA9IHsKICAgICAgICAvL+WbvuS+i+WQjQogICAgICAgIGxlZ2VuZDogewogICAgICAgICAgZGF0YTogWyfmsLTkvY3liqDpgJ/luqYnXQogICAgICAgIH0sCiAgICAgICAgeEF4aXM6IHsKICAgICAgICAgIHR5cGU6ICdjYXRlZ29yeScsCiAgICAgICAgICBkYXRhOiB0aGlzLnhEYXRhLAogICAgICAgICAgYXhpc0xhYmVsOiB7CiAgICAgICAgICAgIGludGVydmFsOiAwLAogICAgICAgICAgICBmb250U2l6ZTogJzEwJwogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgeUF4aXM6IHsKICAgICAgICAgIHR5cGU6ICd2YWx1ZScsCiAgICAgICAgICBhcmVhU3R5bGU6IHt9CiAgICAgICAgfSwKICAgICAgICBzZXJpZXM6IFt7CiAgICAgICAgICB0eXBlOiB0aGlzLnR5cGUsCiAgICAgICAgICBkYXRhOiB0aGlzLnlEYXRhLAogICAgICAgICAgc21vb3RoOiB0cnVlLAogICAgICAgICAgc2hvd1N5bWJvbDogdHJ1ZSwKICAgICAgICAgIHN5bWJvbDogJ2NpcmNsZScsCiAgICAgICAgICAvL+iuvuWumuS4uuWunuW/g+eCuQogICAgICAgICAgc3ltYm9sU2l6ZTogNSwKICAgICAgICAgIC8v6K6+5a6a5a6e5b+D54K555qE5aSn5bCPCiAgICAgICAgICBtYXJrUG9pbnQ6IHsKICAgICAgICAgICAgLy/mmL7npLrkuIDlrprljLrln5/lhoXnmoTmnIDlpKflgLzlkozmnIDlsI/lgLwKICAgICAgICAgICAgZGF0YTogW3sKICAgICAgICAgICAgICB0eXBlOiAnbWF4JywKICAgICAgICAgICAgICBuYW1lOiAn5pyA5aSn5YC8JwogICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgdHlwZTogJ21pbicsCiAgICAgICAgICAgICAgbmFtZTogJ+acgOWwj+WAvCcKICAgICAgICAgICAgfV0KICAgICAgICAgIH0sCiAgICAgICAgICBhcmVhU3R5bGU6IHsKICAgICAgICAgICAgLy8g5LuO5LiK5b6A5LiL55qE5riQ5Y+Y6aKc6ImyCiAgICAgICAgICAgIGNvbG9yOiBuZXcgdGhpcy4kZWNoYXJ0cy5ncmFwaGljLkxpbmVhckdyYWRpZW50KDAsIDAsIDAsIDEsIFt7CiAgICAgICAgICAgICAgb2Zmc2V0OiAwLAogICAgICAgICAgICAgIGNvbG9yOiAnIzAwRTJGRicKICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgIG9mZnNldDogMSwKICAgICAgICAgICAgICBjb2xvcjogJyMwMDYzQkYnCiAgICAgICAgICAgIH1dKQogICAgICAgICAgfQogICAgICAgIH1dCiAgICAgIH07CiAgICAgIHRoaXMuY2hhcnRJbnN0YW5jZS5zZXRPcHRpb24ob3B0aW9uKTsKICAgIH0sCiAgICAvLyDlsY/luZXlpKflsI/pgILphY0g5Zu+5qCH6Ieq6YCC5bqUCiAgICBzY3JlZW5BZGFwdGVyOiBmdW5jdGlvbiBzY3JlZW5BZGFwdGVyKCkgewogICAgICAvLyDlvpfliLDlm77moIflrrnlmajlrr3luqYt44CL6I635Y+W5a2X5L2T5aSn5bCPCiAgICAgIHRoaXMudGl0bGVGb250U2l6ZSA9IHRoaXMuJHJlZnMud2F0ZXJBY2NlbGVyYXRpb24ub2Zmc2V0V2lkdGggLyAxMDAgKiAzLjY7CiAgICAgIHZhciBhZGFwdGVyT3B0aW9uID0gewogICAgICAgIGxlZ2VuZDogewogICAgICAgICAgaXRlbVdpZHRoOiB0aGlzLnRpdGxlRm9udFNpemUsCiAgICAgICAgICBpdGVtSGVpZ2h0OiB0aGlzLnRpdGxlRm9udFNpemUsCiAgICAgICAgICBpdGVtR2FwOiB0aGlzLnRpdGxlRm9udFNpemUsCiAgICAgICAgICB0ZXh0U3R5bGU6IHsKICAgICAgICAgICAgZm9udFNpemU6IHRoaXMudGl0bGVGb250U2l6ZSAvIDIKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH07CiAgICAgIHRoaXMuY2hhcnRJbnN0YW5jZS5zZXRPcHRpb24oYWRhcHRlck9wdGlvbik7CiAgICAgIHRoaXMuY2hhcnRJbnN0YW5jZS5yZXNpemUoKTsKICAgIH0KICB9Cn07"},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAoBA;AACAA,MADA,kBACA;AACA;AACAC,yBADA;AAEA;AACAC,mBAHA;AAIAC,oBAJA;AAIA;AACAC,kBALA;AAKA;AACAC,mBANA;AAMA;AACAC,uBAPA;AAQAC,kBARA;AASAC,yBATA;AASA;AACAC,iBAVA;AAWAC;AAXA;AAaA,GAfA;AAgBAC,SAhBA,qBAgBA;AACA;AACA;AACA,GAnBA;AAoBAC,SApBA,qBAoBA;AACA,qBADA,CAEA;;AACAC;AACA,yBAJA,CAKA;AACA,GA1BA;AA2BAC,WA3BA,uBA2BA;AACAD,6DADA,CAEA;;AACA;AACA,GA/BA;AAgCAE;AACA;AACAC,YAFA,sBAEA;AACA;AACAC;AADA;AAIA;AAPA,GAhCA;AAyCAC;AACA;AACAC,aAFA,uBAEA;AACA;AACA;AACA;AACAC;AACAC,oBADA;AAEAC,oBAFA;AAGAC,qBAHA;AAIAC,sBAJA;AAKAC;AALA,SAFA;AASAC;AACA;AACAnB,0BAFA,CAGA;;AAHA,SATA;AAcAoB,iBAdA;AAiBAC;AACAC;AADA;AAjBA;AAqBA;AACA,KA1BA;AA2BA;AACAC,WA5BA,mBA4BAC,GA5BA,EA4BA;AACAC;AACA;AACA;AACA,KAhCA;AAiCA;AACAC,eAlCA,yBAkCA;AACA;AACA;AACA,OAFA;AAGA;AACA;AACA,OAFA;AAGA;;AACA;AACA;AACA;AACAC;AACAlC;AADA,SAFA;AAKA0B;AACAnB,0BADA;AAEAP,0BAFA;AAGAmC;AACAC,uBADA;AAEAnB;AAFA;AAHA,SALA;AAaAU;AACApB,uBADA;AAEA8B;AAFA,SAbA;AAkBAC;AACA/B,yBADA;AAEAP,0BAFA;AAGAuC,sBAHA;AAIAC,0BAJA;AAKAC,0BALA;AAKA;AACAC,uBANA;AAMA;AACAC;AAAA;AACA3C;AACAO,yBADA;AAEAqC;AAFA,eAIA;AACArC,yBADA;AAEAqC;AAFA,aAJA;AADA,WAPA;AAkBAP;AACA;AACAQ;AACAC,uBADA;AAEAD;AAFA,eAIA;AACAC,uBADA;AAEAD;AAFA,aAJA;AAFA;AAlBA;AAlBA;AAmDA;AACA,KA/FA;AAgGA;AACAE,iBAjGA,2BAiGA;AACA;AACA;AACA;AACAb;AACAc,uCADA;AAEAC,wCAFA;AAGAC,qCAHA;AAIAC;AACAlC;AADA;AAJA;AADA;AAUA;AACA;AACA;AAhHA;AAzCA","names":["data","chartInstance","allData","currentPage","totalPage","timerId","showChoice","type","titleFontSize","xData","yData","created","mounted","window","destroyed","computed","comStyle","fontSize","methods","initChart","grid","left","top","right","bottom","containLabel","xAxis","yAxis","tooltip","trigger","getData","ret","console","updateChart","legend","axisLabel","interval","areaStyle","series","smooth","showSymbol","symbol","symbolSize","markPoint","name","color","offset","screenAdapter","itemWidth","itemHeight","itemGap","textStyle"],"sourceRoot":"src/components/page","sources":["acceleration.vue"],"sourcesContent":["<!--\r\n * @Author: Tashany\r\n * @Date: 2022-04-13 17:19:24\r\n * @LastEditors: Tashany\r\n * @LastEditTime: 2022-04-26 15:24:23\r\n * @Description: file content\r\n * @FilePath: \\water_admin\\src\\components\\page\\acceleration.vue\r\n-->\r\n<template>\r\n  <div class=\"com-container\">\r\n      <div class=\"title\" :style=\"comStyle\">\r\n        <span>▎水位加速度变化</span>\r\n        <span class=\"iconfont title-icon\"></span>\r\n      </div>\r\n      <div class=\"com-chart\" ref=\"waterAcceleration\"> \r\n      </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    data() {\r\n      return {\r\n        chartInstance: null,\r\n        // 返回服务器的数据\r\n        allData: null,\r\n        currentPage: 1, //当前页数\r\n        totalPage: 0, //总页数\r\n        timerId: null, // 定时器标识,\r\n        showChoice: false,\r\n        type: 'line',\r\n        titleFontSize: null,//指明标题字体大小\r\n        xData:null,\r\n        yData:null\r\n      }\r\n    },\r\n     created() {\r\n      // 再组件创建完成时创建回调函数\r\n      this.$socket.registerCallBack('acceleration',this.getData)\r\n    },\r\n    mounted() {\r\n      this.initChart()\r\n      // this.getData()\r\n      window.addEventListener('resize', this.screenAdapter)\r\n      this.screenAdapter()\r\n      // getConnect()\r\n    },\r\n    destroyed() {\r\n      window.removeEventListener('resize', this.screenAdapter)\r\n       // 销毁时取消回调函数\r\n      this.$socket.unRegisterCallBack(this.getData)\r\n    },\r\n    computed: {\r\n      // 设置给标题的样式\r\n      comStyle() {\r\n        return {\r\n          fontSize: this.titleFontSize + 'px'\r\n        }\r\n\r\n      }\r\n    },\r\n    methods: {\r\n      // 初始化echartInstance对象\r\n      initChart() {\r\n        this.chartInstance = this.$echarts.init(this.$refs.waterAcceleration, 'chalk')\r\n        const initOption = {\r\n          // 设置直接坐标系坐标轴大写\r\n          grid: {\r\n            left: '3%',\r\n            top: '35%',\r\n            right: '4%',\r\n            bottom: '1%',\r\n            containLabel: true\r\n          },\r\n          xAxis: {\r\n            // 取消间隙\r\n            type: 'category',\r\n            // boundaryGap: false\r\n          },\r\n          yAxis: {\r\n\r\n          },\r\n          tooltip: {\r\n            trigger: 'axis'\r\n          }\r\n        }\r\n        this.chartInstance.setOption(initOption)\r\n      },\r\n      // 获取服务器数据\r\n      getData(ret) {\r\n        console.log(333)\r\n        this.allData = JSON.parse(ret)\r\n        this.updateChart()\r\n      },\r\n      // 更新图表\r\n      updateChart() {\r\n         this.yData = this.allData.waterAcceleration.map(item =>{\r\n          return item\r\n        })\r\n         this.xData = this.allData.measureTime.map(item => {\r\n          return item.split(\" \")[1]\r\n        })\r\n        /*数组排序*/\r\n        this.xData.sort();\r\n        const option = {\r\n          //图例名\r\n          legend: {\r\n            data: ['水位加速度']\r\n          },\r\n          xAxis: {\r\n            type: 'category',\r\n            data: this.xData,\r\n            axisLabel: {\r\n              interval: 0,\r\n              fontSize:'10'\r\n            }\r\n          },\r\n          yAxis: {\r\n            type: 'value',\r\n            areaStyle: {}\r\n          },\r\n\r\n          series: [{\r\n            type: this.type,\r\n            data: this.yData,\r\n            smooth: true,\r\n            showSymbol: true,\r\n            symbol: 'circle', //设定为实心点\r\n            symbolSize: 5, //设定实心点的大小\r\n            markPoint: { //显示一定区域内的最大值和最小值\r\n              data: [{\r\n                  type: 'max',\r\n                  name: '最大值'\r\n                },\r\n                {\r\n                  type: 'min',\r\n                  name: '最小值'\r\n                }\r\n              ]\r\n            },\r\n            areaStyle: {\r\n              // 从上往下的渐变颜色\r\n              color: new this.$echarts.graphic.LinearGradient(0, 0, 0, 1, [{\r\n                  offset: 0,\r\n                  color: '#00E2FF'\r\n                },\r\n                {\r\n                  offset: 1,\r\n                  color: '#0063BF'\r\n                }\r\n              ])\r\n            },\r\n\r\n          }],\r\n        }\r\n        this.chartInstance.setOption(option)\r\n      },\r\n      // 屏幕大小适配 图标自适应\r\n      screenAdapter() {\r\n        // 得到图标容器宽度-》获取字体大小\r\n        this.titleFontSize = (this.$refs.waterAcceleration.offsetWidth / 100) * 3.6\r\n        const adapterOption = {\r\n          legend: {\r\n            itemWidth: this.titleFontSize,\r\n            itemHeight: this.titleFontSize,\r\n            itemGap: this.titleFontSize,\r\n            textStyle: {\r\n              fontSize: this.titleFontSize / 2\r\n            }\r\n          }\r\n        }\r\n        this.chartInstance.setOption(adapterOption)\r\n        this.chartInstance.resize()\r\n      }\r\n    }\r\n  }\r\n\r\n  \r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n  .title {\r\n    position: absolute;\r\n    left: 20px;\r\n    top: 20px;\r\n    z-index: 10;\r\n    color: white;\r\n\r\n    .title-icon {\r\n      margin-left: 10px;\r\n      cursor: pointer;\r\n    }\r\n  }\r\n</style>"]}]}