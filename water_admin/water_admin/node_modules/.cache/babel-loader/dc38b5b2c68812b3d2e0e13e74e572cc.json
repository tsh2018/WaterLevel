{"remainingRequest":"F:\\waterManager\\water_admin\\node_modules\\babel-loader\\lib\\index.js!F:\\waterManager\\water_admin\\src\\tools\\request.js","dependencies":[{"path":"F:\\waterManager\\water_admin\\src\\tools\\request.js","mtime":1647520900664},{"path":"F:\\waterManager\\water_admin\\babel.config.js","mtime":1646632679840},{"path":"F:\\waterManager\\water_admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\waterManager\\water_admin\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CgovKg0KICogQEF1dGhvcjogVGFzaGFueQ0KICogQERhdGU6IDIwMjItMDMtMTUgMjA6MTQ6MzYNCiAqIEBMYXN0RWRpdG9yczogVGFzaGFueQ0KICogQExhc3RFZGl0VGltZTogMjAyMi0wMy0xNyAyMDo0MTo0MA0KICogQERlc2NyaXB0aW9uOiBmaWxlIGNvbnRlbnQNCiAqIEBGaWxlUGF0aDogXHdhdGVyX2FkbWluXHNyY1x0b29sc1xyZXF1ZXN0LmpzDQogKi8KaW1wb3J0IHsgTWVzc2FnZSB9IGZyb20gJ2VsZW1lbnQtdWknOwppbXBvcnQgcm91dGVyIGZyb20gJy4uL3JvdXRlcic7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CnZhciBzZXJ2aWNlID0gYXhpb3MuY3JlYXRlKHsKICBiYXNlVVJMOiAnL2FwaScKfSk7IC8v5a+55LqO5ZON5bqU5pWw5o2uCgpzZXJ2aWNlLmludGVyY2VwdG9ycy5yZXNwb25zZS51c2UoZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwKSB7CiAgICBpZiAocmVzcG9uc2UuZGF0YS5jb2RlID09PSAnNDAxJykgewogICAgICBNZXNzYWdlLmVycm9yKHJlc3BvbnNlLmRhdGEubXNnKTsKICAgICAgcm91dGVyLnB1c2goJy9sb2dpbicpOwogICAgfQoKICAgIHJldHVybiByZXNwb25zZS5kYXRhOyAvLyBpZiggcmVzcG9uc2UuZGF0YS5jb2RlID09PSA0MDEpewogICAgLy8gICAgIE1lc3NhZ2UuZXJyb3IoJ+aCqOayoeacieadg+mZkCcpOwogICAgLy8gfQogICAgLy8gaWYoIHJlc3BvbnNlLmRhdGEuY29kZSA9PT0gNTAwKXsKICAgIC8vICAgICBNZXNzYWdlLmVycm9yKHJlc3BvbnNlLmRhdGEubXNnKTsKICAgIC8vIH0KICAgIC8vIGVsc2UgcmV0dXJuIHJlc3BvbnNlLmRhdGE7CiAgfSBlbHNlIHsKICAgIFByb21pc2UucmVqZWN0KCk7CiAgfQp9LCBmdW5jdGlvbiAoZXJyKSB7CiAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycik7Cn0pOwpleHBvcnQgZGVmYXVsdCBzZXJ2aWNlOw=="},{"version":3,"sources":["F:/waterManager/water_admin/src/tools/request.js"],"names":["Message","router","axios","service","create","baseURL","interceptors","response","use","status","data","code","error","msg","push","Promise","reject","err"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,SAASA,OAAT,QAAwB,YAAxB;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,IAAMC,OAAO,GAAGD,KAAK,CAACE,MAAN,CAAa;AACzBC,EAAAA,OAAO,EAAE;AADgB,CAAb,CAAhB,C,CAMA;;AACAF,OAAO,CAACG,YAAR,CAAqBC,QAArB,CAA8BC,GAA9B,CAAkC,UAAAD,QAAQ,EAAI;AAE1C,MAAIA,QAAQ,CAACE,MAAT,KAAoB,GAAxB,EAA6B;AAEzB,QAAIF,QAAQ,CAACG,IAAT,CAAcC,IAAd,KAAuB,KAA3B,EAAiC;AAE7BX,MAAAA,OAAO,CAACY,KAAR,CAAeL,QAAQ,CAACG,IAAT,CAAcG,GAA7B;AACAZ,MAAAA,MAAM,CAACa,IAAP,CAAY,QAAZ;AACH;;AACD,WAAOP,QAAQ,CAACG,IAAhB,CAPyB,CAQzB;AACA;AACA;AACA;AACA;AACA;AACA;AACH,GAfD,MAeO;AACHK,IAAAA,OAAO,CAACC,MAAR;AACH;AACJ,CApBD,EAoBG,UAAAC,GAAG,EAAI;AAEN,SAAOF,OAAO,CAACC,MAAR,CAAeC,GAAf,CAAP;AACH,CAvBD;AAyBA,eAAed,OAAf","sourcesContent":["/*\r\n * @Author: Tashany\r\n * @Date: 2022-03-15 20:14:36\r\n * @LastEditors: Tashany\r\n * @LastEditTime: 2022-03-17 20:41:40\r\n * @Description: file content\r\n * @FilePath: \\water_admin\\src\\tools\\request.js\r\n */\r\n\r\nimport { Message } from 'element-ui';\r\nimport router from '../router';\r\nimport axios from 'axios'\r\n\r\nconst service = axios.create({\r\n    baseURL: '/api',\r\n\r\n})\r\n\r\n\r\n//对于响应数据\r\nservice.interceptors.response.use(response => {\r\n  \r\n    if (response.status === 200) {\r\n       \r\n        if( response.data.code === '401'){\r\n            \r\n            Message.error( response.data.msg);\r\n            router.push('/login');\r\n        }\r\n        return response.data;\r\n        // if( response.data.code === 401){\r\n        //     Message.error('您没有权限');\r\n        // }\r\n        // if( response.data.code === 500){\r\n        //     Message.error(response.data.msg);\r\n        // }\r\n        // else return response.data;\r\n    } else {\r\n        Promise.reject();\r\n    }\r\n}, err => {\r\n\r\n    return Promise.reject(err)\r\n})\r\n\r\nexport default service"]}]}