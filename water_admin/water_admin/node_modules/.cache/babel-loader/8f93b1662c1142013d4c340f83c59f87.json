{"remainingRequest":"F:\\waterManager\\water_admin\\node_modules\\babel-loader\\lib\\index.js!F:\\waterManager\\water_admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!F:\\waterManager\\water_admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\waterManager\\water_admin\\src\\components\\page\\map.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\waterManager\\water_admin\\src\\components\\page\\map.vue","mtime":1650793579943},{"path":"F:\\waterManager\\water_admin\\babel.config.js","mtime":1646632679840},{"path":"F:\\waterManager\\water_admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\waterManager\\water_admin\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"F:\\waterManager\\water_admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\waterManager\\water_admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkY6L3dhdGVyTWFuYWdlci93YXRlcl9hZG1pbi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCB7IGdldFByb3ZpbmNlTWFwSW5mbyB9IGZyb20gJ0AvdG9vbHMvbWFwX3V0aWxzLmpzJzsKaW1wb3J0IHsgZ2V0Q29ubmVjdCB9IGZyb20gJ0AvYXBpL3VzZXIuanMnOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGNoYXJ0SW5zdGFuY2U6IG51bGwsCiAgICAgIC8vIOi/lOWbnuacjeWKoeWZqOeahOaVsOaNrgogICAgICBhbGxEYXRhOiBudWxsLAogICAgICB0aXRsZUZvbnRTaXplOiBudWxsIC8v5oyH5piO5qCH6aKY5a2X5L2T5aSn5bCPCgogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmluaXRDaGFydCgpOwogICAgdGhpcy5nZXREYXRhKCk7CiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5zY3JlZW5BZGFwdGVyKTsKICAgIHRoaXMuc2NyZWVuQWRhcHRlcigpOyAvLyBnZXRDb25uZWN0KCkKICB9LAogIGRlc3Ryb3llZDogZnVuY3Rpb24gZGVzdHJveWVkKCkgewogICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuc2NyZWVuQWRhcHRlcik7CiAgfSwKICBjb21wdXRlZDogewogICAgLy8g6K6+572u57uZ5qCH6aKY55qE5qC35byPCiAgICBjb21TdHlsZTogZnVuY3Rpb24gY29tU3R5bGUoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgZm9udFNpemU6IHRoaXMudGl0bGVGb250U2l6ZSArICdweCcKICAgICAgfTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOWIneWni+WMlmVjaGFydEluc3RhbmNl5a+56LGhCiAgICBpbml0Q2hhcnQ6IGZ1bmN0aW9uIGluaXRDaGFydCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciByZXQsIGluaXRPcHRpb247CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzLmNoYXJ0SW5zdGFuY2UgPSBfdGhpcy4kZWNoYXJ0cy5pbml0KF90aGlzLiRyZWZzLm1hcCwgJ2NoYWxrJyk7IC8vIOiOt+WPluWcsOWbvuefoumHj+aVsOaNrgoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5nZXQoJ2h0dHA6Ly9sb2NhbGhvc3Q6ODA4Mi9zdGF0aWMvbWFwL2NoaW5hLmpzb24nKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgcmV0ID0gX2NvbnRleHQyLnNlbnQ7CgogICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2cocmV0KQogICAgICAgICAgICAgICAgLy8g5rOo5YaM5Zyw5Zu+CiAgICAgICAgICAgICAgICBfdGhpcy4kZWNoYXJ0cy5yZWdpc3Rlck1hcCgnY2hpbmEnLCByZXQuZGF0YSk7CgogICAgICAgICAgICAgICAgaW5pdE9wdGlvbiA9IHsKICAgICAgICAgICAgICAgICAgdGl0bGU6IHsKICAgICAgICAgICAgICAgICAgICB0ZXh0OiAn4paO5qOA5rWL54K55YiG5biDJywKICAgICAgICAgICAgICAgICAgICBsZWZ0OiAyMCwKICAgICAgICAgICAgICAgICAgICB0b3A6IDIwCiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIGdlbzogewogICAgICAgICAgICAgICAgICAgIHR5cGU6ICdtYXAnLAogICAgICAgICAgICAgICAgICAgIG1hcDogJ2NoaW5hJywKICAgICAgICAgICAgICAgICAgICBpdGVtU3R5bGU6IHsKICAgICAgICAgICAgICAgICAgICAgIGFyZWFDb2xvcjogJ3JnYigwLDU5LDgxKScsCiAgICAgICAgICAgICAgICAgICAgICBib3JkZXJDb2xvcjogJyNmZmYnCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICBsZWdlbmQ6IHsKICAgICAgICAgICAgICAgICAgICBsZWZ0OiAnNSUnLAogICAgICAgICAgICAgICAgICAgIGJvdHRvbTogJzUlJywKICAgICAgICAgICAgICAgICAgICBvcmllbnQ6ICd2YXJ0aWNhbCcsCiAgICAgICAgICAgICAgICAgICAgaXRlbUhlaWdodDogMTIsCiAgICAgICAgICAgICAgICAgICAgdGV4dFN0eWxlOiB7CiAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogMTIKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgX3RoaXMuY2hhcnRJbnN0YW5jZS5zZXRPcHRpb24oaW5pdE9wdGlvbik7IC8vIOeCueWHu+ebkeWQrOS6i+S7tgoKCiAgICAgICAgICAgICAgICBfdGhpcy5jaGFydEluc3RhbmNlLm9uKCdjbGljaycsIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKGFyZykgewogICAgICAgICAgICAgICAgICAgIHZhciBwcm92aW5jZUluZm8sIHJldCwgY2hhbmdlT3B0aW9uOwogICAgICAgICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGFyZykKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFyZy5uYW1l5b6X5Yiw5omA54K55Ye755qE55yB5Lu977yM5piv5Lit5paHCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDliKTmlq3lvZPliY3ngrnlh7vnnIHnmoTlnLDlm77nn6Lph4/mlbDmja7mmK/lkKbnvJPlrZgKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZpbmNlSW5mbyA9IGdldFByb3ZpbmNlTWFwSW5mbyhhcmcubmFtZSk7IC8vIOiOt+WPluivpeecgeS7veefoumHj+aVsOaNrgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLmdldCgnaHR0cDovL2xvY2FsaG9zdDo4MDgyJyArIHByb3ZpbmNlSW5mby5wYXRoKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0ID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy4kZWNoYXJ0cy5yZWdpc3Rlck1hcChwcm92aW5jZUluZm8ua2V5LCByZXQuZGF0YSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlT3B0aW9uID0gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZW86IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXA6IHByb3ZpbmNlSW5mby5rZXkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5jaGFydEluc3RhbmNlLnNldE9wdGlvbihjaGFuZ2VPcHRpb24pOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB9KCkpOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyDojrflj5bmnI3liqHlmajmlbDmja4KICAgIGdldERhdGE6IGZ1bmN0aW9uIGdldERhdGEoKSB7CiAgICAgIHRoaXMudXBkYXRlQ2hhcnQoKTsKICAgIH0sCiAgICAvLyDmm7TmlrDlm77ooagKICAgIHVwZGF0ZUNoYXJ0OiBmdW5jdGlvbiB1cGRhdGVDaGFydCgpIHsKICAgICAgdGhpcy5hbGxEYXRhID0gW3sKICAgICAgICBuYW1lOiAn5q2m5rGJJywKICAgICAgICBsb2NhdGlvbjogW1snMTE0LjMxJywgJzMwLjU5J11dLAogICAgICAgIHZhbHVlOiBbJ+WcsOmTgeS4ieWPt+e6vycsICflnLDpk4HkuIDlj7fnur8nXQogICAgICB9LCB7CiAgICAgICAgbmFtZTogJ+aIkOmDvScsCiAgICAgICAgbG9jYXRpb246IFtbJzEwMy45MycsICczMC41OCddXSwKICAgICAgICB2YWx1ZTogWyflnLDpk4HkuInlj7fnur8nLCAn5Zyw6ZOB5LiA5Y+357q/J10KICAgICAgfV07CiAgICAgIHZhciBzZXJpZXNBcnIgPSB0aGlzLmFsbERhdGEubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgLy8gcmV0dXJu55qE5a+56LGh5Luj6KGo55qE5piv5LiA5Liq57G75Yir5LiL55qE5omA5pyJ5pWj54K55pWw5o2uCiAgICAgICAgLy8g5Zyo5Zyw5Zu+5Lit5pi+56S65pWj54K555qE5pWw5o2u77yM6ZyA6KaB5aKe5Yqg5LiA5Liq6YWN572uIGNvb3JkaW5hdGVTeXN0ZW0KICAgICAgICByZXR1cm4gewogICAgICAgICAgdHlwZTogJ2VmZmVjdFNjYXR0ZXInLAogICAgICAgICAgbmFtZTogaXRlbS5uYW1lLAogICAgICAgICAgZGF0YTogaXRlbS5sb2NhdGlvbiwKICAgICAgICAgIGNvb3JkaW5hdGVTeXN0ZW06ICdnZW8nLAogICAgICAgICAgcmlwcGxlRWZmZWN0OiB7CiAgICAgICAgICAgIHNjYWxlOiAzLAogICAgICAgICAgICBicnVzaFR5cGU6ICdzdHJva2UnCiAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgfSk7CiAgICAgIHZhciBvcHRpb24gPSB7CiAgICAgICAgc2VyaWVzOiBzZXJpZXNBcnIKICAgICAgfTsKICAgICAgdGhpcy5jaGFydEluc3RhbmNlLnNldE9wdGlvbihvcHRpb24pOwogICAgfSwKICAgIC8vIOWxj+W5leWkp+Wwj+mAgumFjSDlm77moIfoh6rpgILlupQKICAgIHNjcmVlbkFkYXB0ZXI6IGZ1bmN0aW9uIHNjcmVlbkFkYXB0ZXIoKSB7CiAgICAgIC8vIOW+l+WIsOWbvuagh+WuueWZqOWuveW6pi3jgIvojrflj5blrZfkvZPlpKflsI8KICAgICAgdGhpcy50aXRsZUZvbnRTaXplID0gdGhpcy4kcmVmcy5tYXAub2Zmc2V0V2lkdGggLyAxMDAgKiAzLjY7CiAgICAgIHZhciBhZGFwdGVyT3B0aW9uID0gewogICAgICAgIHRpdGxlOiB7CiAgICAgICAgICB0ZXh0U3R5bGU6IHsKICAgICAgICAgICAgZm9udFNpemU6IHRoaXMudGl0bGVGb250U2l6ZQogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgbGVnZW5kOiB7CiAgICAgICAgICBpdGVtV2lkdGg6IHRoaXMudGl0bGVGb250U2l6ZSwKICAgICAgICAgIGl0ZW1IZWlnaHQ6IHRoaXMudGl0bGVGb250U2l6ZSwKICAgICAgICAgIGl0ZW1HYXA6IHRoaXMudGl0bGVGb250U2l6ZSwKICAgICAgICAgIHRleHRTdHlsZTogewogICAgICAgICAgICBmb250U2l6ZTogdGhpcy50aXRsZUZvbnRTaXplIC8gMgogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfTsKICAgICAgdGhpcy5jaGFydEluc3RhbmNlLnNldE9wdGlvbihhZGFwdGVyT3B0aW9uKTsKICAgICAgdGhpcy5jaGFydEluc3RhbmNlLnJlc2l6ZSgpOwogICAgfSwKICAgIC8vIOWbnuWIsOS4reWbveWcsOWbvgogICAgcmV2ZXJ0TWFwOiBmdW5jdGlvbiByZXZlcnRNYXAoKSB7CiAgICAgIHZhciByZXZlcnRPcHRpb24gPSB7CiAgICAgICAgZ2VvOiB7CiAgICAgICAgICBtYXA6ICdjaGluYScKICAgICAgICB9CiAgICAgIH07CiAgICAgIHRoaXMuY2hhcnRJbnN0YW5jZS5zZXRPcHRpb24ocmV2ZXJ0T3B0aW9uKTsKICAgIH0KICB9Cn07"},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;AAgBA;AACA,SACAA,kBADA,QAEA,sBAFA;AAGA,SACAC,UADA,QAEA,eAFA;AAGA;AACAC,MADA,kBACA;AACA;AACAC,yBADA;AAEA;AACAC,mBAHA;AAIAC,yBAJA,CAIA;;AAJA;AAMA,GARA;AASAC,SATA,qBASA;AACA;AACA;AACAC;AACA,yBAJA,CAKA;AACA,GAfA;AAgBAC,WAhBA,uBAgBA;AACAD;AACA,GAlBA;AAmBAE;AACA;AACAC,YAFA,sBAEA;AACA;AACAC;AADA;AAIA;AAPA,GAnBA;AA4BAC;AACA;AACAC,aAFA,uBAEA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,oFADA,CAEA;;AAFA;AAAA,uBAGAC,wDAHA;;AAAA;AAGAC,mBAHA;;AAIA;AACA;AACA;;AACAC,0BAPA,GAOA;AACAC;AACAC,kCADA;AAEAC,4BAFA;AAGAC;AAHA,mBADA;AAMAC;AACAC,+BADA;AAEAC,gCAFA;AAGAC;AACAC,+CADA;AAEAC;AAFA;AAHA,mBANA;AAcAC;AACAR,8BADA;AAEAS,gCAFA;AAGAC,sCAHA;AAIAC,kCAJA;AAKAC;AACApB;AADA;AALA;AAdA,iBAPA;;AA+BA,0DA/BA,CAgCA;;;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACAqB,wCAJA,GAIAhC,4BAJA,EAKA;;AALA;AAAA,mCAMAc,sDANA;;AAAA;AAMAC,+BANA;;AAOA;;AAEAkB,wCATA,GASA;AACAZ;AACAE;AADA;AADA,6BATA;;AAeA;;AAfA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;;AAjCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAkDA,KApDA;AAqDA;AACAW,WAtDA,qBAsDA;AACA;AACA,KAxDA;AAyDA;AACAC,eA1DA,yBA0DA;AACA;AACAC,kBADA;AAEAC,mBACA,WACA,OADA,CADA,CAFA;AAOAC,gBACA,OADA,EAEA,OAFA;AAPA,SAYA;AACAF,kBADA;AAEAC,mBACA,WACA,OADA,CADA,CAFA;AAOAC,gBACA,OADA,EAEA,OAFA;AAPA,OAZA;AAyBA;AACA;AACA;AACA;AACAhB,+BADA;AAEAc,yBAFA;AAGAlC,6BAHA;AAIAqC,iCAJA;AAKAC;AACAC,oBADA;AAEAC;AAFA;AALA;AAUA,OAbA;AAcA;AACAC;AADA;AAGA;AACA,KAtGA;AAuGA;AACAC,iBAxGA,2BAwGA;AACA;AACA;AACA;AACA3B;AACAc;AACApB;AADA;AADA,SADA;AAMAgB;AACAkB,uCADA;AAEAf,wCAFA;AAGAgB,qCAHA;AAIAf;AACApB;AADA;AAJA;AANA;AAeA;AACA;AACA,KA5HA;AA6HA;AACAoC,aA9HA,uBA8HA;AACA;AACA1B;AACAE;AADA;AADA;AAKA;AACA;AArIA;AA5BA","names":["getProvinceMapInfo","getConnect","data","chartInstance","allData","titleFontSize","mounted","window","destroyed","computed","comStyle","fontSize","methods","initChart","axios","ret","initOption","title","text","left","top","geo","type","map","itemStyle","areaColor","borderColor","legend","bottom","orient","itemHeight","textStyle","provinceInfo","changeOption","getData","updateChart","name","location","value","coordinateSystem","rippleEffect","scale","brushType","series","screenAdapter","itemWidth","itemGap","revertMap"],"sourceRoot":"src/components/page","sources":["map.vue"],"sourcesContent":["<!--\r\n * @Author: Tashany\r\n * @Date: 2022-04-18 14:46:30\r\n * @LastEditors: Tashany\r\n * @LastEditTime: 2022-04-24 17:46:19\r\n * @Description: file content\r\n * @FilePath: \\water_admin\\src\\components\\page\\map.vue\r\n-->\r\n<template>\r\n    <div class=\"com-container\" @dblclick=\"revertMap\">\r\n        <div class=\"com-chart\" ref=\"map\">\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import axios from 'axios'\r\n    import {\r\n        getProvinceMapInfo\r\n    } from '@/tools/map_utils.js'\r\n    import {\r\n       getConnect\r\n    } from '@/api/user.js'\r\n    export default {\r\n        data() {\r\n            return {\r\n                chartInstance: null,\r\n                // 返回服务器的数据\r\n                allData: null,\r\n                titleFontSize: null, //指明标题字体大小\r\n            }\r\n        },\r\n        mounted() {\r\n            this.initChart()\r\n            this.getData()\r\n            window.addEventListener('resize', this.screenAdapter)\r\n            this.screenAdapter()\r\n            // getConnect()\r\n        },\r\n        destroyed() {\r\n            window.removeEventListener('resize', this.screenAdapter)\r\n        },\r\n        computed: {\r\n            // 设置给标题的样式\r\n            comStyle() {\r\n                return {\r\n                    fontSize: this.titleFontSize + 'px'\r\n                }\r\n\r\n            }\r\n        },\r\n        methods: {\r\n            // 初始化echartInstance对象\r\n            async initChart() {\r\n                this.chartInstance = this.$echarts.init(this.$refs.map, 'chalk')\r\n                // 获取地图矢量数据\r\n                const ret = await axios.get('http://localhost:8082/static/map/china.json')\r\n                // console.log(ret)\r\n                // 注册地图\r\n                this.$echarts.registerMap('china', ret.data)\r\n                const initOption = {\r\n                    title: {\r\n                        text: '▎检测点分布',\r\n                        left: 20,\r\n                        top: 20\r\n                    },\r\n                    geo: {\r\n                        type: 'map',\r\n                        map: 'china',\r\n                        itemStyle: {\r\n                            areaColor: 'rgb(0,59,81)',\r\n                            borderColor: '#fff'\r\n                        }\r\n                    },\r\n                    legend: {\r\n                        left: '5%',\r\n                        bottom: '5%',\r\n                        orient: 'vartical',\r\n                        itemHeight: 12,\r\n                        textStyle: {\r\n                            fontSize: 12,\r\n                        },\r\n                    }\r\n                }\r\n                this.chartInstance.setOption(initOption)\r\n                // 点击监听事件\r\n                this.chartInstance.on('click', async arg => {\r\n                    // console.log(arg)\r\n                    // arg.name得到所点击的省份，是中文\r\n                    // 判断当前点击省的地图矢量数据是否缓存\r\n                    const provinceInfo = getProvinceMapInfo(arg.name)\r\n                        // 获取该省份矢量数据\r\n                        const ret = await axios.get('http://localhost:8082' + provinceInfo.path)\r\n                        this.$echarts.registerMap(provinceInfo.key, ret.data)\r\n                   \r\n                    const changeOption = {\r\n                        geo: {\r\n                            map: provinceInfo.key,\r\n\r\n                        }\r\n                    }\r\n                    this.chartInstance.setOption(changeOption)\r\n                })\r\n            },\r\n            // 获取服务器数据\r\n            getData() {\r\n                this.updateChart()\r\n            },\r\n            // 更新图表\r\n            updateChart() {\r\n                this.allData = [{\r\n                        name: '武汉',\r\n                        location: [\r\n                            ['114.31',\r\n                                '30.59'\r\n                            ]\r\n                        ],\r\n                        value: [\r\n                            '地铁三号线',\r\n                            '地铁一号线'\r\n                        ]\r\n                    },\r\n                    {\r\n                        name: '成都',\r\n                        location: [\r\n                            ['103.93',\r\n                                '30.58'\r\n                            ]\r\n                        ],\r\n                        value: [\r\n                            '地铁三号线',\r\n                            '地铁一号线'\r\n                        ]\r\n                    }\r\n                ]\r\n                const seriesArr = this.allData.map(item => {\r\n                    // return的对象代表的是一个类别下的所有散点数据\r\n                    // 在地图中显示散点的数据，需要增加一个配置 coordinateSystem\r\n                    return {\r\n                        type: 'effectScatter',\r\n                        name: item.name,\r\n                        data: item.location,\r\n                        coordinateSystem: 'geo',\r\n                        rippleEffect: {\r\n                            scale: 3,\r\n                            brushType: 'stroke'\r\n                        }\r\n                    }\r\n                })\r\n                const option = {\r\n                    series: seriesArr,\r\n                }\r\n                this.chartInstance.setOption(option)\r\n            },\r\n            // 屏幕大小适配 图标自适应\r\n            screenAdapter() {\r\n                // 得到图标容器宽度-》获取字体大小\r\n                this.titleFontSize = (this.$refs.map.offsetWidth / 100) * 3.6\r\n                const adapterOption = {\r\n                    title: {\r\n                        textStyle: {\r\n                            fontSize: this.titleFontSize\r\n                        }\r\n                    },\r\n                    legend: {\r\n                        itemWidth: this.titleFontSize,\r\n                        itemHeight: this.titleFontSize,\r\n                        itemGap: this.titleFontSize,\r\n                        textStyle: {\r\n                            fontSize: this.titleFontSize / 2\r\n                        }\r\n                    }\r\n                }\r\n                this.chartInstance.setOption(adapterOption)\r\n                this.chartInstance.resize()\r\n            },\r\n            // 回到中国地图\r\n            revertMap() {\r\n                const revertOption = {\r\n                    geo: {\r\n                        map: 'china'\r\n                    }\r\n                }\r\n                this.chartInstance.setOption(revertOption)\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n    .title {\r\n        position: absolute;\r\n        left: 20px;\r\n        top: 20px;\r\n        z-index: 10;\r\n        color: white;\r\n\r\n        .title-icon {\r\n            margin-left: 10px;\r\n            cursor: pointer;\r\n        }\r\n    }\r\n</style>"]}]}