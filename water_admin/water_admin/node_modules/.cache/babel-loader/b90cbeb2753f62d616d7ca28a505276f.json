{"remainingRequest":"F:\\waterManager\\water_admin\\node_modules\\babel-loader\\lib\\index.js!F:\\waterManager\\water_admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!F:\\waterManager\\water_admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\waterManager\\water_admin\\src\\components\\checkManager.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\waterManager\\water_admin\\src\\components\\checkManager.vue","mtime":1651821976068},{"path":"F:\\waterManager\\water_admin\\babel.config.js","mtime":1646632679840},{"path":"F:\\waterManager\\water_admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\waterManager\\water_admin\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"F:\\waterManager\\water_admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\waterManager\\water_admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkY6L3dhdGVyTWFuYWdlci93YXRlcl9hZG1pbi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgRXZlbnRCdXMgfSBmcm9tICcuLi9zdG9yZS9CdXMuanMnOwppbXBvcnQgeyBnZXRNYW5hZ2VyTGlzdCwgZGVsZXRlTWFuYWdlciB9IGZyb20gJ0AvYXBpL3VzZXIuanMnOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRhYmxlRGF0YTogW3sKICAgICAgICBtYWdJZDogIiIsCiAgICAgICAgbWFnTmFtZTogIiIsCiAgICAgICAgbWFnUGFzc3dhcmQ6ICIiLAogICAgICAgIG1hZ0VtYWlsOiAiIiwKICAgICAgICBtYWdOdW06ICIiLAogICAgICAgIG1hZ0ltZzogIiIsCiAgICAgICAgbWFnUm9vdDogJycsCiAgICAgICAgbWFnc0FkcmVzczogIiIsCiAgICAgICAgbWFnUmVtYXJrOiAiIgogICAgICB9XSwKICAgICAgY3VycmVudFBhZ2U6IDEsCiAgICAgIC8vIOW9k+WJjemhteeggQogICAgICB0b3RhbDogMjAsCiAgICAgIC8vIOaAu+adoeaVsAogICAgICBwYWdlU2l6ZTogNSAvLyDmr4/pobXnmoTmlbDmja7mnaHmlbAKCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgaGFuZGxlRWRpdDogZnVuY3Rpb24gaGFuZGxlRWRpdChpbmRleCwgcm93KSB7CiAgICAgIGNvbnNvbGUubG9nKGluZGV4LCByb3cpOwogICAgfSwKICAgIC8v5Yig6Zmk5oyH5a6a6KGMCiAgICBoYW5kbGVEZWxldGU6IGZ1bmN0aW9uIGhhbmRsZURlbGV0ZShpbmRleCwgcm93KSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciByZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgLy8gLy/liKDpmaTooajmoLzkv6Hmga8KICAgICAgICAgICAgICAgIC8vIGlmICh0aGlzLnRhYmxlRGF0YS5zcGxpY2UoaW5kZXgsIDEpKSB7CiAgICAgICAgICAgICAgICAvLyAgICAKICAgICAgICAgICAgICAgIC8vIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAvLyAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgICAvLyAgICAgICAgIG1lc3NhZ2U6ICfliKDpmaTlpLHotKXvvIEnLAogICAgICAgICAgICAgICAgLy8gICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgICAgICAgICAgIC8vICAgICB9KTsKICAgICAgICAgICAgICAgIC8vIH0KICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgIHJlcyA9IGRlbGV0ZU1hbmFnZXIocm93Lm1hZ0lkKTsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAn5Yig6Zmk5oiQ5Yqf77yBJywKICAgICAgICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycKICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICBfdGhpcy5nZXRNYW5hZ2VMaXN0KCk7CiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgICAgICAgICBfdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ+WIoOmZpOWksei0pe+8gScsCiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGdldE1hbmFnZXJMaXN0KCk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBnZXRNYW5hZ2VMaXN0OiBmdW5jdGlvbiBnZXRNYW5hZ2VMaXN0KCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciByZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBnZXRNYW5hZ2VyTGlzdCgpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcy5vYmplY3QpOwogICAgICAgICAgICAgICAgX3RoaXMyLnRhYmxlRGF0YSA9IHJlcy5vYmplY3Q7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDExOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gODsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi50MCA9IF9jb250ZXh0MlsiY2F0Y2giXSgwKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKF9jb250ZXh0Mi50MCk7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIsIG51bGwsIFtbMCwgOF1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy/mr4/pobXmnaHmlbDmlLnlj5jml7bop6blj5Eg6YCJ5oup5LiA6aG15pi+56S65aSa5bCR6KGMCiAgICBoYW5kbGVTaXplQ2hhbmdlOiBmdW5jdGlvbiBoYW5kbGVTaXplQ2hhbmdlKHZhbCkgewogICAgICBjb25zb2xlLmxvZygiXHU2QkNGXHU5ODc1ICIuY29uY2F0KHZhbCwgIiBcdTY3NjEiKSk7CiAgICAgIHRoaXMuY3VycmVudFBhZ2UgPSAxOwogICAgICB0aGlzLnBhZ2VTaXplID0gdmFsOwogICAgfSwKICAgIC8v5b2T5YmN6aG15pS55Y+Y5pe26Kem5Y+RIOi3s+i9rOWFtuS7lumhtQogICAgaGFuZGxlQ3VycmVudENoYW5nZTogZnVuY3Rpb24gaGFuZGxlQ3VycmVudENoYW5nZSh2YWwpIHsKICAgICAgY29uc29sZS5sb2coIlx1NUY1M1x1NTI0RFx1OTg3NTogIi5jb25jYXQodmFsKSk7CiAgICAgIHRoaXMuY3VycmVudFBhZ2UgPSB2YWw7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgLy/lkJHnu4Tku7ZoZWFkLnZ1ZeS8oOmAgemdouWMheWxkeWvvOiIquWGheWuuQogICAgRXZlbnRCdXMuJGVtaXQoInBhdGhJbmZvIiwgW3sKICAgICAgdGl0bGU6ICfpppbpobUnLAogICAgICBpbmRleDogJycKICAgIH0sIHsKICAgICAgdGl0bGU6ICfkuKrkurrnrqHnkIYnLAogICAgICBpbmRleDogJ0luZGl2aWR1YWxNeUluZm8nCiAgICB9LCB7CiAgICAgIHRpdGxlOiAn5p+l55yL566h55CG5ZGYJywKICAgICAgaW5kZXg6ICdJbmRpdmlkdWFsTXlJbmZvJwogICAgfV0pOwogICAgdGhpcy5nZXRNYW5hZ2VMaXN0KCk7CiAgfQp9Ow=="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoEA,SACAA,QADA,QAEA,iBAFA;AAGA,SACAC,cADA,EAEAC,aAFA,QAGA,eAHA;AAIA;AACAC,MADA,kBACA;AACA;AACAC;AACAC,iBADA;AAEAC,mBAFA;AAGAC,uBAHA;AAIAC,oBAJA;AAKAC,kBALA;AAMAC,kBANA;AAOAC,mBAPA;AAQAC,sBARA;AASAC;AATA,QADA;AAYAC,oBAZA;AAYA;AACAC,eAbA;AAaA;AACAC,iBAdA,CAcA;;AAdA;AAgBA,GAlBA;AAmBAC;AACAC,cADA,sBACAC,KADA,EACAC,GADA,EACA;AAEAC;AACA,KAJA;AAMA;AACAC,gBAPA,wBAOAH,KAPA,EAOAC,GAPA,EAOA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAG,qBADA,GACArB,wBADA;AAEAmB;;AACA;AACAG,oCADA;AAEAC;AAFA;;AAIA;AACA,iBARA,CAQA;AACA;AACAD,oCADA;AAEAC;AAFA;AAIA;;AACAxB;;AAxBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA2BA,KAlCA;AAmCAyB,iBAnCA,2BAmCA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAEAzB,gBAFA;;AAAA;AAEAsB,mBAFA;AAGAF;AACA;AAJA;AAAA;;AAAA;AAAA;AAAA;AAOAA;;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWA,KA9CA;AA+CA;AACAM,oBAhDA,4BAgDAC,GAhDA,EAgDA;AACAP;AACA;AACA;AACA,KApDA;AAqDA;AACAQ,uBAtDA,+BAsDAD,GAtDA,EAsDA;AACAP;AACA;AACA;AAzDA,GAnBA;AA8EAS,SA9EA,qBA8EA;AACA;AACA9B;AACA+B,iBADA;AAEAZ;AAFA,OAIA;AACAY,mBADA;AAEAZ;AAFA,KAJA,EAQA;AACAY,oBADA;AAEAZ;AAFA,KARA;AAaA;AAEA;AA/FA","names":["EventBus","getManagerList","deleteManager","data","tableData","magId","magName","magPassward","magEmail","magNum","magImg","magRoot","magsAdress","magRemark","currentPage","total","pageSize","methods","handleEdit","index","row","console","handleDelete","res","message","type","getManageList","handleSizeChange","val","handleCurrentChange","mounted","title"],"sourceRoot":"src/components","sources":["checkManager.vue"],"sourcesContent":["<!--\r\n * @Author: Tashany\r\n * @Date: 2022-03-08 21:54:39\r\n * @LastEditors: Tashany\r\n * @LastEditTime: 2022-05-06 15:26:16\r\n * @Description: file content\r\n * @FilePath: \\water_admin\\src\\components\\checkManager.vue\r\n-->\r\n<template>\r\n    <div>\r\n        <template>\r\n            <el-table :data=\"tableData.slice((currentPage-1)*pageSize,currentPage*pageSize)\" style=\"width: 100%;margin-top:30px\" stripe>\r\n                <el-table-column label=\"管理员编号\" width=\"180\" align=\"center\">\r\n                    <template slot-scope=\"scope\">\r\n                        <i class=\"el-icon-user\"></i>\r\n                        <span style=\"margin-left: 10px\">{{ scope.row.magId }}</span>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column label=\"姓名\" width=\"150\" align=\"center\">\r\n                    <template slot-scope=\"scope\">\r\n                        <i class=\"el-icon-user\"></i>\r\n                        <span style=\"margin-left: 10px\">{{ scope.row.magName }}</span>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column label=\"手机号码\" width=\"180\" align=\"center\">\r\n                    <template slot-scope=\"scope\">\r\n                        <i class=\"el-icon-mobile-phone\"></i>\r\n                        <span style=\"margin-left: 10px\">{{ scope.row.magNum}}</span>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column label=\"邮箱\" width=\"180\" align=\"center\">\r\n                    <template slot-scope=\"scope\">\r\n                        <i class=\"el-icon-mobile-Emaile\"></i>\r\n                        <span style=\"margin-left: 10px\">{{ scope.row.magEmail}}</span>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column label=\"联系地址\" width=\"300\" align=\"center\">\r\n                    <template slot-scope=\"scope\">\r\n                        <i class=\"el-icon-office-building\"></i>\r\n                        <span style=\"margin-left: 10px\">{{ scope.row.magAddress }}</span>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column label=\"备注\" width=\"180\" align=\"center\">\r\n                    <template slot-scope=\"scope\">\r\n                        <i class=\"el-icon-tickets\"></i>\r\n                        <span style=\"margin-left: 10px\">{{ scope.row.magContent }}</span>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column label=\"操作\" align=\"center\">\r\n                    <template slot-scope=\"scope\">\r\n                        <el-button size=\"mini\" type=\"danger\" @click=\"handleDelete(scope.$index, scope.row)\">删除\r\n                        </el-button>\r\n                    </template>\r\n                </el-table-column>\r\n            </el-table>\r\n        </template>\r\n        <el-pagination @size-change=\"handleSizeChange\" \r\n   @current-change=\"handleCurrentChange\"\r\n   :current-page=\"currentPage\" \r\n   :page-sizes=\"[1,5,10,20]\" \r\n   :page-size=\"pageSize\" \r\n   layout=\"total, sizes, prev, pager, next, jumper\" \r\n   :total=\"tableData.length\">\r\n        </el-pagination>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import {\r\n        EventBus\r\n    } from '../store/Bus.js'\r\n    import {\r\n        getManagerList,\r\n        deleteManager\r\n    } from '@/api/user.js'\r\n    export default {\r\n        data() {\r\n            return {\r\n                tableData: [{\r\n                    magId: \"\",\r\n                    magName: \"\",\r\n                    magPassward: \"\",\r\n                    magEmail: \"\",\r\n                    magNum: \"\",\r\n                    magImg: \"\",\r\n                    magRoot: '',\r\n                    magsAdress: \"\",\r\n                    magRemark: \"\",\r\n                }],\r\n                currentPage: 1, // 当前页码\r\n                total: 20, // 总条数\r\n                pageSize: 5 // 每页的数据条数\r\n            }\r\n        },\r\n        methods: {\r\n            handleEdit(index, row) {\r\n\r\n                console.log(index, row);\r\n            },\r\n\r\n            //删除指定行\r\n            async handleDelete(index, row) {\r\n                // //删除表格信息\r\n                // if (this.tableData.splice(index, 1)) {\r\n                //    \r\n                // } else {\r\n                //     this.$message({\r\n                //         message: '删除失败！',\r\n                //         type: 'warning'\r\n                //     });\r\n                // }\r\n                try {\r\n                    const res = deleteManager(row.magId)\r\n                    console.log(res)\r\n                    this.$message({\r\n                        message: '删除成功！',\r\n                        type: 'success'\r\n                    });\r\n                    this.getManageList()\r\n                } catch (error) {\r\n                    this.$message({\r\n                        message: '删除失败！',\r\n                        type: 'warning'\r\n                    });\r\n                }\r\n                getManagerList()\r\n\r\n\r\n            },\r\n            async getManageList() {\r\n                try {\r\n                    const res = await getManagerList()\r\n                    console.log(res.object)\r\n                    this.tableData = res.object\r\n\r\n                } catch (e) {\r\n                    console.log(e)\r\n\r\n                }\r\n\r\n            },\r\n            //每页条数改变时触发 选择一页显示多少行\r\n            handleSizeChange(val) {\r\n                console.log(`每页 ${val} 条`);\r\n                this.currentPage = 1;\r\n                this.pageSize = val;\r\n            },\r\n            //当前页改变时触发 跳转其他页\r\n            handleCurrentChange(val) {\r\n                console.log(`当前页: ${val}`);\r\n                this.currentPage = val;\r\n            }\r\n        },\r\n        mounted() {\r\n            //向组件head.vue传送面包屑导航内容\r\n            EventBus.$emit(\"pathInfo\", [{\r\n                    title: '首页',\r\n                    index: ''\r\n                },\r\n                {\r\n                    title: '个人管理',\r\n                    index: 'IndividualMyInfo'\r\n                },\r\n                {\r\n                    title: '查看管理员',\r\n                    index: 'IndividualMyInfo',\r\n                },\r\n            ]);\r\n            this.getManageList()\r\n\r\n        },\r\n    }\r\n</script>\r\n\r\n<style>\r\n\r\n</style>"]}]}